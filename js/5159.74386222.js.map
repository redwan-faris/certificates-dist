{"version":3,"file":"js/5159.74386222.js","mappings":"4KAEA,SAGQA,oBAHO,WAGc,wIACAC,EAAAA,EAAAA,IAAQ,qBADR,cACjBC,EADiB,yBAEhBA,EAASC,KAAKA,MAFE,4CAG1B,EAEKC,kBARO,SAQWC,GAAG,wIAEAJ,EAAAA,EAAAA,KAAS,eAAgB,CAACK,aAAaD,IAFvC,cAEjBH,EAFiB,OAGvBK,QAAQC,IAAIN,GAHW,kBAIhBA,EAASC,KAAKA,MAJE,4CAM1B,EACDM,iBAAkB,WAAF,8BAAE,WAAOJ,GAAP,6FACOJ,EAAAA,EAAAA,IAAA,+BAAgCI,IADvC,cACVH,EADU,yBAGTA,EAASC,KAAKA,MAHL,2CAAF,sDAAE,GAKlBO,gBAAiB,WAAF,8BAAE,WAAOL,GAAP,sGAEUJ,EAAAA,EAAAA,IAAA,wCAAyCI,IAFnD,cAEPH,EAFO,yBAGNA,EAASC,KAAKA,MAHR,mCAKbI,QAAQC,IAAR,MALa,yDAAF,sDAAE,G,mFCpBnB,SACEG,eADa,SACEN,GACb,IAAMH,EAAWD,EAAAA,EAAAA,KAAS,mBAAoB,CAC5CI,GAAIA,EACJO,OAAQ,QACRC,YAAaC,EAAAA,EAAAA,UAA0BT,KAEzC,OAAOH,CACR,EACDa,qBATa,SASQV,EAAIW,EAAKJ,GAC5B,IAAMV,EAAWD,EAAAA,EAAAA,KAAS,mBAAoB,CAC5CI,GAAIA,EACJO,OAAQA,EACRC,YAAaC,EAAAA,EAAAA,UAA0BT,GACvCY,QAASD,IAEX,OAAOd,CACR,EACDgB,QAAS,WAAF,8BAAE,WAAOb,GAAP,6FACgBJ,EAAAA,EAAAA,IAAA,mBAAoBI,IADpC,cACDH,EADC,yBAGAA,EAASC,KAAKA,MAHd,2CAAF,sDAAE,GAKTgB,YAAa,WAAF,8BAAE,WAAOd,GAAP,6FACYJ,EAAAA,EAAAA,IAAA,8BAA+BI,IAD3C,cACLH,EADK,yBAEJA,EAASC,KAAKA,MAFV,2CAAF,sDAAE,GAKbiB,eAAgB,WAAF,8BAAE,WAAOR,EAAQP,GAAf,6FACSJ,EAAAA,EAAAA,MAAA,mBAAsBI,GAAO,CAAEO,OAAQA,IAAvC,UAAuD,SAAAS,GAE5Ed,QAAQC,IAAIa,EACb,IAJa,cACRnB,EADQ,OAMdK,QAAQC,IAAIN,GANE,kBAOPA,GAPO,2CAAF,wDAAE,GAShBoB,mBAAoB,WAAF,8BAAE,WAAOjB,GAAP,sGAEOJ,EAAAA,EAAAA,KAAS,WAAY,CAAEsB,QAASlB,IAFvC,cAEVH,EAFU,yBAGTA,EAASC,MAHA,mCAKhBI,QAAQC,IAAR,MALgB,yDAAF,sDAAE,GASpBgB,YAAa,WAAF,8BAAE,WAAOZ,GAAP,sGAEcX,EAAAA,EAAAA,IAAA,0BAA2BW,IAFzC,cAEHV,EAFG,yBAGFA,EAASC,KAAKA,MAHZ,mCAKTI,QAAQC,IAAR,MALS,yDAAF,sDAAE,GAUbiB,gBAAiB,WAAF,8BAAE,mHAEUxB,EAAAA,EAAAA,IAAA,8BAFV,cAEPC,EAFO,yBAGNA,EAASC,KAAKA,MAHR,mCAKbI,QAAQC,IAAR,MALa,yDAAF,qDAAE,GASjBkB,oBAAqB,WAAF,8BAAE,mHAEMzB,EAAAA,EAAAA,IAAA,kCAFN,cAEXC,EAFW,yBAGVA,EAASC,KAAKA,MAHJ,mCAKjBI,QAAQC,IAAR,MALiB,yDAAF,qDAAE,GASrBmB,aAAc,WAAF,8BAAE,WAAOf,EAAOP,GAAd,sGAEaJ,EAAAA,EAAAA,MAAA,0BAA6BI,GAAK,CAACO,OAAAA,IAFhD,cAEJV,EAFI,yBAGHA,EAASC,KAAKA,MAHX,mCAKVI,QAAQC,IAAR,MALU,yDAAF,wDAAE,GASdoB,OAAQ,WAAF,8BAAE,WAAOvB,GAAP,sGAEmBJ,EAAAA,EAAAA,UAAA,mBAAuBI,IAF1C,cAEEH,EAFF,yBAGGA,EAASC,KAAKA,MAHjB,mCAKJI,QAAQC,IAAR,MALI,yDAAF,sDAAE,G,sGCpFDqB,MAAM,O,GACFA,MAAM,a,GAGCC,EAAAA,EAAAA,GAA0C,MAAtCD,MAAM,cAAa,kBAAc,G,GAGhCA,MAAM,uC,GAEEA,MAAM,0B,GAEFA,MAAM,U,GACFA,MAAM,oC,GACPC,EAAAA,EAAAA,GAGM,OAHDD,MAAM,2BAAyB,EAChCC,EAAAA,EAAAA,GACmB,OADdC,IAAAC,EAAmCH,MAAM,yBAC1CI,IAAI,eAFZ,G,GAKIJ,MAAM,mBAAmBK,MAAA,uB,GACzBL,MAAM,mBAAmBK,MAAA,uB,mDAmB5DL,MAAM,O,GACFA,MAAM,a,GAGCC,EAAAA,EAAAA,GAA0C,MAAtCD,MAAM,cAAa,kBAAc,G,GAIrCC,EAAAA,EAAAA,GAEK,UAFD,mBAEJ,G,yDAhDOK,EAAAA,aAAaC,OAAM,eAA1CC,EAAAA,EAAAA,IAqCM,MArCN,EAqCM,EApCFP,EAAAA,EAAAA,GAmCM,MAnCN,EAmCM,EAlCFQ,EAAAA,EAAAA,IAiCUC,EAAA,MAhCWC,aAAW,SACxB,iBAA0C,CAA1CC,EAAA,IAEaC,MAAI,SACjB,iBA0BM,EA1BNZ,EAAAA,EAAAA,GA0BM,MA1BN,EA0BM,gBAzBlBO,EAAAA,EAAAA,IAwBsBM,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAxBuBT,EAAAA,cAAY,SAA3BU,G,kBAA9BR,EAAAA,EAAAA,IAwBsB,OAxBjBR,MAAM,YAAiDiB,IAAKD,EAAYxC,IAA7E,EACoByB,EAAAA,EAAAA,GAsBM,MAtBN,EAsBM,EApBFA,EAAAA,EAAAA,GAmBM,MAnBN,EAmBM,EAlBFA,EAAAA,EAAAA,GAiBM,MAjBN,EAiBM,CAhBFiB,GAKAjB,EAAAA,EAAAA,GAAsG,KAAtG,EAAyD,iBAAakB,EAAAA,EAAAA,IAAGH,EAAYI,KAAKC,MAAI,IAC9FpB,EAAAA,EAAAA,GAAyG,KAAzG,EAAyD,eAAWkB,EAAAA,EAAAA,IAAGH,EAAYM,KAAKC,WAAS,IACjGtB,EAAAA,EAAAA,GACwD,UAD/CuB,QAAK,mBAAEC,EAAAA,cAAcT,EAAYxC,GAA5B,EAAiCkD,KAAK,SAChD1B,MAAM,iCAAgC,QAAK,EAAA2B,IAE/C1B,EAAAA,EAAAA,GAC4D,UADnDuB,QAAK,mBAAEC,EAAAA,cAAcT,EAAYxC,GAA5B,EAAiCkD,KAAK,SAChD1B,MAAM,sCAAqC,OAAI,EAAA4B,IAEnD3B,EAAAA,EAAAA,GAES,UAFAuB,QAAK,mBAAEC,EAAAA,gBAAgBT,EAAYxC,GAA9B,EACVkD,KAAK,SAAS1B,MAAM,sCAAqC,eAC7D,EAAA6B,U,IApBhC,QADY,I,aAPhB,WAsCArB,EAAAA,EAAAA,IAcM,MAdN,EAcM,EAbFP,EAAAA,EAAAA,GAYM,MAZN,EAYM,EAXFQ,EAAAA,EAAAA,IAUUC,EAAA,MATWC,aAAW,SACxB,iBAA0C,CAA1CmB,EAAA,IAEajB,MAAI,SAEjB,iBAEK,CAFLkB,EAAA,I,gDAcpB,SACIV,KAAM,qBACNW,WAAY,CAAC,EACbC,QAHW,WAIPC,EAAAA,GAAAA,OACH,EACDC,QANW,WAMD,WACNC,EAAAA,EAAAA,YAA6B,WACxBC,MAAK,SAAAhE,GACF,EAAKiE,aAAejE,CACvB,IAHL,UAIW,SAAAmB,GAEN,GACR,EAEDlB,KAhBW,WAiBP,MAAO,CACHgE,aAAc,GAErB,EACDC,QAAS,CACLC,gBADK,SACWhE,GACZiE,OAAOC,KAAP,2EAAgFlE,GAAM,SACzF,EACDmE,cAJK,SAISnE,GACV,IAAMoE,EAA2BC,KAAKC,MAAMC,MAAM,CAC9CC,YAAa,CACTC,cAAe,yBACfC,aAAc,uCAElBC,gBAAgB,IAGpBP,EAAyBQ,KAAK,CAC1BC,MAAO,gBACPC,KAAM,mBACNC,KAAM,UACNC,kBAAkB,EAClBC,kBAAmB,gBACnBC,iBAAkB,UAClBC,UAAW,CACPC,MAAO,qCAEXC,UAAW,CACPD,MAAO,wCAGVvB,MAAK,SAACyB,GACCA,EAAWC,aACX3B,EAAAA,EAAAA,aAA8B,WAAY5D,GACrC6D,MAAK,SAAAhE,GACFuE,EAAyBQ,KAAK,CAC1BC,MAAO,WACPC,KAAM,iBACNC,KAAM,UACNI,UAAW,CACPC,MAAO,qCAEXC,UAAW,CACPD,MAAO,wCAGfI,SAASC,QACZ,IAdL,UAeW,SAAAzE,GAEN,GAIZ,GACR,EACD0E,cApDK,SAoDS1F,GACV,IAAMoE,EAA2BC,KAAKC,MAAMC,MAAM,CAC9CC,YAAa,CACTC,cAAe,yBACfC,aAAc,uCAElBC,gBAAgB,IAEpBP,EAAyBQ,KAAK,CAC1BC,MAAO,gBACPC,KAAM,gCACNC,KAAM,UACNC,kBAAkB,EAClBC,kBAAmB,iBACnBC,iBAAkB,UAClBC,UAAW,CACPC,MAAO,qCAEXC,UAAW,CACPD,MAAO,wCAGVvB,MAAK,SAACyB,GACCA,EAAWC,aACXI,EAAAA,EAAAA,kBAAsC3F,GACjC6D,MAAK,SAAAhE,GACFuE,EAAyBQ,KAAK,CAC1BC,MAAO,YACPC,KAAM,iCACNC,KAAM,UACNI,UAAW,CACPC,MAAO,qCAEXC,UAAW,CACPD,MAAO,wCAGfI,SAASC,QACZ,IAdL,UAeW,SAAAzE,GACHd,QAAQC,IAAIa,EACf,GAIZ,GACR,EACD4E,gBAAiB,SAAUC,GAEvB,IAAMC,EAAE,yEAAsED,GAE9E,OAAOC,CACV,I,eCrLT,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,G","sources":["webpack://osboha180/./src/api/certificateServices.js","webpack://osboha180/./src/api/userBookServices.js","webpack://osboha180/./src/views/Admin/acceptCertificate.vue","webpack://osboha180/./src/views/Admin/acceptCertificate.vue?fc7e"],"sourcesContent":["import { api } from \"./Intercepter\";\r\nimport userInfoService from \"../services/userInfo.service\";\r\nexport default {\r\n\r\n\r\n  async getUserCertificates(){\r\n      const response = await api.get('certificates/user');\r\n      return response.data.data;\r\n  }\r\n,\r\n async  createCertificate(id){\r\n \r\n      const response = await api.post(\"certificates\", {user_book_id:id})\r\n      console.log(response)\r\n      return response.data.data\r\n   \r\n  },\r\n  checkCertificate: async (id) => {\r\n    const response = await api.get(`userbook/certificate/${id}`);\r\n\r\n    return response.data.data;\r\n  },\r\n  fullCretificate: async (id) => {\r\n    try {\r\n      const response = await api.get(`certificates/full-certificate/${id}`);\r\n      return response.data.data;\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  },\r\n};\r\n","import { api } from \"./Intercepter\"\r\nimport userInfoService from \"../services/userInfo.service\";\r\nexport default {\r\n  acceptUserBook(id) {\r\n    const response = api.post(\"/userbook/review\", {\r\n      id: id,\r\n      status: 'audit',\r\n      reviewer_id: userInfoService.getUser().id\r\n    })\r\n    return response;\r\n  },\r\n  rejectRetardUserBook(id, note,status) {\r\n    const response = api.post(\"/userbook/review\", {\r\n      id: id,\r\n      status: status,\r\n      reviewer_id: userInfoService.getUser().id,\r\n      reviews: note\r\n    })\r\n    return response;\r\n  },\r\n  getById: async (id) => {\r\n    const response = await api.get(`userbook/${id}`);\r\n\r\n    return response.data.data;\r\n  },\r\n  getByBookID: async (id) => {\r\n    const response = await api.get(`userbook/by-book-id/${id}`);\r\n    return response.data.data;\r\n  },\r\n\r\n  updateUserBook: async (status, id) => {\r\n    const response = await api.patch(`userbook/${id}`,  { status: status }).catch(error => {\r\n\r\n      console.log(error)\r\n    }\r\n    )\r\n    console.log(response)\r\n    return response;\r\n  },\r\n  requestCertificate: async (id) => {\r\n    try {\r\n      const response = await api.post(\"userbook\", { book_id: id });\r\n      return response.data;\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  },\r\n\r\n  getByStatus: async (status) => {\r\n    try {\r\n      const response = await api.get(`userbook/status/${status}`);\r\n      return response.data.data;\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  },\r\n  \r\n  \r\n  lastAchievement: async () => {\r\n    try {\r\n      const response = await api.get(`userbook/last-achievement/`);\r\n      return response.data.data;\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  },\r\n\r\n  finishedAchievement: async () => {\r\n    try {\r\n      const response = await api.get(`userbook/finished-achievement/`);\r\n      return response.data.data;\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  },\r\n\r\n  changeStatus: async (status,id) => {\r\n    try {\r\n      const response = await api.patch(`userbook/status/${id}`,{status});\r\n      return response.data.data;\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  },\r\n\r\n  cancel: async (id) => {\r\n    try {\r\n      const response = await api.delete(`userbook/${id}`);\r\n      return response.data.data;\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  },\r\n\r\n  \r\n}\r\n\r\n","<template>\r\n    <div class=\"row\" v-if=\"certificates.length > 0\">\r\n        <div class=\"col-lg-12\">\r\n            <iq-card>\r\n                <template v-slot:headerTitle>\r\n                    <h4 class=\"card-title\">طلبات الشهادات</h4>\r\n                </template>\r\n                <template v-slot:body>\r\n                    <div class=\"d-grid gap-3 d-grid-template-1fr-19\">\r\n        <div class=\"card mb-0\" v-for=\"certificate in certificates\" :key=\"certificate.id\">\r\n                            <div class=\"row align-items-center\">\r\n\r\n                                <div class=\"col-12\">\r\n                                    <div class=\"blog-description p-2 text-center\">\r\n                                        <div class=\"image-block text-center\">\r\n                                            <img src=\"@/assets/images/finished.png\" class=\"img-fluid rounded w-50\"\r\n                                                alt=\"blog-img\">\r\n                                        </div>\r\n\r\n                                        <h4 class=\"mb-2 text-center\" style=\"direction: inherit;\"> اسم السفير: {{ certificate.user.name }}</h4>\r\n                                        <h4 class=\"mb-2 text-center\" style=\"direction: inherit;\">اسم الكتاب:{{ certificate.book.book_name }}</h4>\r\n                                        <button @click=\"acceptrequest(certificate.id)\" type=\"submit\"\r\n                                            class=\"btn btn-primary d-block w-100\">قبول </button>\r\n\r\n                                        <button @click=\"deleterequest(certificate.id)\" type=\"submit\"\r\n                                            class=\"btn btn-primary d-block w-100 mt-3\">رفض </button>\r\n\r\n                                        <button @click=\"listCertificate(certificate.id)\"\r\n                                            type=\"submit\" class=\"btn btn-primary d-block w-100 mt-3\">عرض الشهادة\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </template>\r\n            </iq-card>\r\n        </div>\r\n    </div>\r\n    <div class=\"row\" v-else>\r\n        <div class=\"col-sm-12\">\r\n            <iq-card>\r\n                <template v-slot:headerTitle>\r\n                    <h4 class=\"card-title\">طلبات الشهادات</h4>\r\n                </template>\r\n                <template v-slot:body>\r\n\r\n                    <h4>\r\n                        لا يوجد طلبات\r\n                    </h4>\r\n                </template>\r\n            </iq-card>\r\n        </div>\r\n    </div>\r\n\r\n</template>\r\n<script>\r\nimport { socialvue } from '../../config/pluginInit'\r\nimport userBookServices from '../../api/userBookServices'\r\nimport certificateServices from '../../api/certificateServices'\r\n\r\nexport default {\r\n    name: 'acceptCertificates',\r\n    components: {},\r\n    mounted() {\r\n        socialvue.index()\r\n    },\r\n    created() {\r\n        userBookServices.getByStatus('audited')\r\n            .then(response => {\r\n                this.certificates = response\r\n            })\r\n            .catch(error => {\r\n\r\n            })\r\n    },\r\n\r\n    data() {\r\n        return {\r\n            certificates: [],\r\n        }\r\n    },\r\n    methods: {\r\n        listCertificate(id){\r\n            window.open(`https://www.eligible.osboha180.com/api/certificates/generate-pdf/${id}`, '_blank');\r\n        },\r\n        deleterequest(id) {\r\n            const swalWithBootstrapButtons = this.$swal.mixin({\r\n                customClass: {\r\n                    confirmButton: 'btn btn-primary btn-lg',\r\n                    cancelButton: 'btn btn-outline-primary btn-lg ms-2'\r\n                },\r\n                buttonsStyling: false\r\n            })\r\n\r\n            swalWithBootstrapButtons.fire({\r\n                title: 'هل أنت متأكد؟',\r\n                text: \"موافقتك تعني رفض\",\r\n                icon: 'warning',\r\n                showCancelButton: true,\r\n                confirmButtonText: 'نعم قم بالرفض',\r\n                cancelButtonText: 'تراجع  ',\r\n                showClass: {\r\n                    popup: 'animate__animated animate__zoomIn'\r\n                },\r\n                hideClass: {\r\n                    popup: 'animate__animated animate__zoomOut'\r\n                }\r\n            })\r\n                .then((willDelete) => {\r\n                    if (willDelete.isConfirmed) {\r\n                        userBookServices.changeStatus(\"rejected\", id)\r\n                            .then(response => {\r\n                                swalWithBootstrapButtons.fire({\r\n                                    title: 'تم الرفض',\r\n                                    text: 'تم رفض التوثيق',\r\n                                    icon: 'success',\r\n                                    showClass: {\r\n                                        popup: 'animate__animated animate__zoomIn'\r\n                                    },\r\n                                    hideClass: {\r\n                                        popup: 'animate__animated animate__zoomOut'\r\n                                    }\r\n                                })\r\n                                location.reload()\r\n                            })\r\n                            .catch(error => {\r\n                                (error)\r\n                            })\r\n\r\n\r\n                    }\r\n                })\r\n        },\r\n        acceptrequest(id) {\r\n            const swalWithBootstrapButtons = this.$swal.mixin({\r\n                customClass: {\r\n                    confirmButton: 'btn btn-primary btn-lg',\r\n                    cancelButton: 'btn btn-outline-primary btn-lg ms-2'\r\n                },\r\n                buttonsStyling: false\r\n            })\r\n            swalWithBootstrapButtons.fire({\r\n                title: 'هل أنت متأكد؟',\r\n                text: \"موافقتك تعني قبول هذا التوثيق\",\r\n                icon: 'warning',\r\n                showCancelButton: true,\r\n                confirmButtonText: 'نعم قم بالقبول',\r\n                cancelButtonText: 'تراجع  ',\r\n                showClass: {\r\n                    popup: 'animate__animated animate__zoomIn'\r\n                },\r\n                hideClass: {\r\n                    popup: 'animate__animated animate__zoomOut'\r\n                }\r\n            })\r\n                .then((willDelete) => {\r\n                    if (willDelete.isConfirmed) {\r\n                        certificateServices.createCertificate(id)\r\n                            .then(response => {\r\n                                swalWithBootstrapButtons.fire({\r\n                                    title: 'تم القبول',\r\n                                    text: 'تم قبول التوثيق وانشاء الشهادة',\r\n                                    icon: 'success',\r\n                                    showClass: {\r\n                                        popup: 'animate__animated animate__zoomIn'\r\n                                    },\r\n                                    hideClass: {\r\n                                        popup: 'animate__animated animate__zoomOut'\r\n                                    }\r\n                                })\r\n                                location.reload()\r\n                            })\r\n                            .catch(error => {\r\n                                console.log(error)\r\n                            })\r\n\r\n\r\n                    }\r\n                })\r\n        },\r\n        resolve_img_url: function (image) {\r\n\r\n            const url = `https://www.eligible.osboha180.com/api/certificates/image?path=${image}`\r\n\r\n            return url;\r\n        },\r\n\r\n    }\r\n}\r\n</script>","import { render } from \"./acceptCertificate.vue?vue&type=template&id=43ab08f1\"\nimport script from \"./acceptCertificate.vue?vue&type=script&lang=js\"\nexport * from \"./acceptCertificate.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/redwan/personal/coding/project/osboha/certificates/certificates-frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["getUserCertificates","api","response","data","createCertificate","id","user_book_id","console","log","checkCertificate","fullCretificate","acceptUserBook","status","reviewer_id","userInfoService","rejectRetardUserBook","note","reviews","getById","getByBookID","updateUserBook","error","requestCertificate","book_id","getByStatus","lastAchievement","finishedAchievement","changeStatus","cancel","class","_createElementVNode","src","_imports_0","alt","style","$data","length","_createElementBlock","_createVNode","_component_iq_card","headerTitle","_hoisted_3","body","_Fragment","_renderList","certificate","key","_hoisted_8","_toDisplayString","user","name","book","book_name","onClick","$options","type","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_16","_hoisted_17","components","mounted","socialvue","created","userBookServices","then","certificates","methods","listCertificate","window","open","deleterequest","swalWithBootstrapButtons","this","$swal","mixin","customClass","confirmButton","cancelButton","buttonsStyling","fire","title","text","icon","showCancelButton","confirmButtonText","cancelButtonText","showClass","popup","hideClass","willDelete","isConfirmed","location","reload","acceptrequest","certificateServices","resolve_img_url","image","url","__exports__","render"],"sourceRoot":""}