"use strict";(self["webpackChunkosboha180"]=self["webpackChunkosboha180"]||[]).push([[9560],{5212:(e,t,s)=>{var n=s(82109),r=s(42092).some,a=s(9341),i=a("some");n({target:"Array",proto:!0,forced:!i},{some:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},4723:(e,t,s)=>{var n=s(46916),r=s(27007),a=s(19670),i=s(17466),o=s(41340),c=s(84488),u=s(58173),l=s(31530),d=s(97651);r("match",(function(e,t,s){return[function(t){var s=c(this),r=void 0==t?void 0:u(t,e);return r?n(r,t,s):new RegExp(t)[e](o(s))},function(e){var n=a(this),r=o(e),c=s(t,n,r);if(c.done)return c.value;if(!n.global)return d(n,r);var u=n.unicode;n.lastIndex=0;var h,p=[],m=0;while(null!==(h=d(n,r))){var f=o(h[0]);p[m]=f,""===f&&(n.lastIndex=l(r,i(n.lastIndex),u)),m++}return 0===m?null:p}]}))},74674:(e,t,s)=>{s.d(t,{Z:()=>o});var n=s(50124),r=s(48534),a=(s(92222),s(62760)),i=s(57333);const o={createThesis:function(){var e=(0,r.Z)((0,n.Z)().mark((function e(t,s){var r,i;return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=new FormData,r.append("thesis_text",t.text),r.append("ending_page",t.pageEnd),r.append("starting_page",t.pageStart),r.append("user_book_id",s),r.append("images[]",t.image_1),e.next=8,a.h.post("/thesises",r,{headers:{"Content-Type":"multipart/form-data"}})["catch"]((function(e){console.log(e)}));case 8:return i=e.sent,e.abrupt("return",i);case 10:case"end":return e.stop()}}),e)})));function t(t,s){return e.apply(this,arguments)}return t}(),updatePicture:function(){var e=(0,r.Z)((0,n.Z)().mark((function e(t,s){var r,i;return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=new FormData,r.append("path",s),r.append("image",t),e.next=5,a.h.post("/thesises/update-photo",r,{headers:{"Content-Type":"multipart/form-data"}})["catch"]((function(e){console.log(e)}));case 5:return i=e.sent,e.abrupt("return",i.data.data);case 7:case"end":return e.stop()}}),e)})));function t(t,s){return e.apply(this,arguments)}return t}(),reviewThesis:function(){var e=(0,r.Z)((0,n.Z)().mark((function e(t){return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.h.patch("/thesises/review-thesis/".concat(t));case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),deleteThesis:function(e){var t=a.h["delete"]("/thesises/".concat(e));return t},acceptThesis:function(e,t){var s,n=null;"accept"==t?s=e:"audit"==t&&(n=e);var r=a.h.post("/thesises/review",{id:s,user_book_id:n,status:t,reviewer_id:i.Z.getUser().id});return r},rejectRetardThesis:function(e,t,s){var n=a.h.post("/thesises/review",{id:e,status:s,reviewer_id:i.Z.getUser().id,reviews:t});return n},addDegree:function(e,t,s){var n=a.h.patch("/thesises/add-degree/".concat(e),{auditor_id:i.Z.getUser().id,reviews:t,degree:s});return n},updateThesis:function(){var e=(0,r.Z)((0,n.Z)().mark((function e(t,s){var r;return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.h.patch("thesises/".concat(s),t)["catch"]((function(e){console.log(e)}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));function t(t,s){return e.apply(this,arguments)}return t}(),getById:function(){var e=(0,r.Z)((0,n.Z)().mark((function e(t){var s;return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.h.get("thesises/".concat(t));case 2:return s=e.sent,e.abrupt("return",s.data.data);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),getByBook:function(){var e=(0,r.Z)((0,n.Z)().mark((function e(t){var s;return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.h.get("thesises/book/".concat(t));case 2:return s=e.sent,e.abrupt("return",s.data.data);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),getByUserBookStatus:function(){var e=(0,r.Z)((0,n.Z)().mark((function e(t){var s;return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.h.get("thesises/by-status/".concat(t));case 2:return s=e.sent,s.data,e.abrupt("return",s.data.data);case 5:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),getByUserBook:function(){var e=(0,r.Z)((0,n.Z)().mark((function e(t,s){var r;return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.h.get("thesises/user_book_id/".concat(t,"&").concat(s));case 2:return r=e.sent,r.data,e.abrupt("return",r.data.data);case 5:case"end":return e.stop()}}),e)})));function t(t,s){return e.apply(this,arguments)}return t}(),deletePhoto:function(){var e=(0,r.Z)((0,n.Z)().mark((function e(t){return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.h["delete"]("thesises/photo/".concat(t));case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),getPhotosCount:function(){var e=(0,r.Z)((0,n.Z)().mark((function e(t){var s;return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.h.get("thesises/photo-count/".concat(t));case 2:return s=e.sent,e.abrupt("return",s.data.data);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),uploadPhoto:function(){var e=(0,r.Z)((0,n.Z)().mark((function e(t,s){var r,i;return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=new FormData,r.append("image",t),e.next=4,a.h.post("/thesises/upload/".concat(s),r,{headers:{"Content-Type":"multipart/form-data"}})["catch"]((function(e){console.log(e)}));case 4:return i=e.sent,e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));function t(t,s){return e.apply(this,arguments)}return t}()}},39560:(e,t,s)=>{s.r(t),s.d(t,{default:()=>Ve});var n=s(66252),r=s(3577),a=s(44272),i=s(90475),o={class:"row"},c={class:"col-sm-12"},u={class:"iq-card-body profile-page p-0"},l={class:"profile-header"},d=(0,n._)("div",{class:"cover-container"},[(0,n._)("img",{src:a,alt:"profile-bg",class:"rounded img-fluid"})],-1),h={class:"user-detail text-center mb-3"},p=(0,n._)("div",{class:"profile-img"},[(0,n._)("img",{src:i,alt:"profile-img",class:"avatar-130 img-fluid"})],-1),m={class:"profile-detail mt-1"},f=(0,n._)("br",null,null,-1),v={key:0,class:""},w={class:"iq-card-body p-0"},g={class:"user-tabing"},_={class:"col-sm-12"},b={class:"tab-content"},k={class:"iq-card-body p-0"},y={class:"row"},x={class:"col-12"},Z={key:0,id:"post-modal-data",class:"iq-card"},T=(0,n._)("div",null,[(0,n._)("h5",{class:"card-title"}," تمت الاضافة بنجاح ")],-1),C={class:"col-12"},$=(0,n._)("h4",{class:"card-title"},"الأطروحات",-1),q={id:"form-wizard1",class:"text-center mt-3"},D={id:"top-tab-list",class:"p-0 row list-inline"},z=["onClick"],B={href:"javascript:void(0);"},S={class:"col-12"};function E(e,t,s,a,i,E){var j=(0,n.up)("iq-card"),F=(0,n.up)("tab-nav-items"),P=(0,n.up)("tab-nav"),O=(0,n.up)("CreateThesis"),U=(0,n.up)("alert"),I=(0,n.up)("ThesisDisplay"),A=(0,n.up)("tab-content-item");return(0,n.wg)(),(0,n.iD)("div",o,[(0,n._)("div",c,[(0,n.Wm)(j,null,{default:(0,n.w5)((function(){return[(0,n._)("div",u,[(0,n._)("div",l,[d,(0,n._)("div",h,[p,(0,n._)("div",m,[f,i.book?((0,n.wg)(),(0,n.iD)("h3",v,(0,r.zw)(i.book.book_name)+" - قسم الأطروحات",1)):(0,n.kq)("",!0)])])])])]})),_:1}),(0,n.Wm)(j,{class:"iq-card"},{default:(0,n.w5)((function(){return[(0,n._)("div",w,[(0,n._)("div",g,[(0,n.Wm)(P,{pills:!0,id:"pills-tab",class:"nav nav-pills d-flex align-items-center justify-content-center profile-feed-items p-0 m-0"},{default:(0,n.w5)((function(){return[(0,n.Wm)(F,{class:"w-100 p-0",active:!0,id:"pills-feed-tab",href:"#theses_container",ariaControls:"pills-home",role:"tab",ariaSelected:!0,title:"المرحلة الأولى - الأطروحات"})]})),_:1})])])]})),_:1})]),(0,n._)("div",_,[(0,n._)("div",b,[(0,n.Wm)(A,{active:!0,id:"theses_container","aria-labelled-by":"pills-feed-tab"},{default:(0,n.w5)((function(){return[(0,n._)("div",k,[(0,n._)("div",y,[(0,n._)("div",x,[i.user_book?((0,n.wg)(),(0,n.iD)("div",Z,[i.theses.length<12&&!i.status&&i.auditable||0==i.theses.length?((0,n.wg)(),(0,n.j4)(O,{key:0,onAddThesis:E.addThesis,book:i.book,noOfthesis:i.theses.length,user_book_id:i.user_book.id},null,8,["onAddThesis","book","noOfthesis","user_book_id"])):(0,n.kq)("",!0)])):(0,n.kq)("",!0),i.insertSuccessful?((0,n.wg)(),(0,n.j4)(U,{key:1,variant:"primary",className:"d-flex align-items-center text-center"},{default:(0,n.w5)((function(){return[T]})),_:1})):(0,n.kq)("",!0)]),(0,n._)("div",C,[(0,n.Wm)(j,null,{headerTitle:(0,n.w5)((function(){return[$]})),body:(0,n.w5)((function(){return[(0,n._)("form",q,[(0,n._)("ul",D,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.theses,(function(e,t){return(0,n.wg)(),(0,n.iD)("li",{key:t,class:(0,r.C_)([E.checkActive(t,t+1),"col-2 mb-2 text-start"]),onClick:function(e){return E.changeTab(t+1)},id:"account"},[(0,n._)("a",B,[(0,n._)("span",null,(0,r.zw)(t+1),1)])],10,z)})),128))]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.theses,(function(e,t){return(0,n.wg)(),(0,n.iD)("fieldset",{key:t,class:(0,r.C_)(i.current==t+1?"d-block":"d-none")},[(0,n.Wm)(I,{thesis:e,number:t,title:i.thesisTitle,book:i.book,onOnNext:E.changeTab},null,8,["thesis","number","title","book","onOnNext"])],2)})),128))])]})),_:1})]),(0,n._)("div",S,[(0,n.Wm)(j,null,{body:(0,n.w5)((function(){return[i.theses.length>=8&&i.auditable?((0,n.wg)(),(0,n.iD)("button",{key:0,class:"btn btn-primary d-block w-100 mb-3",onClick:t[0]||(t[0]=function(){return E.reviewThesisStatus&&E.reviewThesisStatus.apply(E,arguments)})}," اعتماد ")):(0,n.kq)("",!0),(0,n._)("button",{class:"btn btn-success d-block w-100",onClick:t[1]||(t[1]=function(e){return E.back()})}," عودة لصفحة الانجاز ")]})),_:1})])])])]})),_:1})])])])}var j=s(50124),F=s(48534),P=(s(5212),s(41539),s(49963)),O={class:"card-title"},U={class:"d-flex align-items-center"},I={class:"form-group col-6"},A=(0,n._)("option",{value:""},"اختر صفحة البداية",-1),W=["value"],N={key:0,style:{color:"red"}},H={class:"form-group col-6"},K=(0,n._)("option",{value:""},"اختر صفحة النهاية",-1),M=["value"],Y={key:0,style:{color:"red"}},V={class:"form-group"},L=(0,n._)("label",{class:"form-label",for:"thesisBody"},"الأطروحة",-1),R={key:0,style:{color:"red"}},G={key:0,class:"form-group"},J=(0,n._)("label",{class:"form-label",for:"customFile"},"ارفع هنا صورة لاطروحتك أعلاه من منشور فريق المتابعة الخاص بك",-1),Q=(0,n._)("small",{style:{color:"red"}}," * يجب إضافة صورة كحد أدنى لاعتماد الأطروحات للتوثيق. ",-1),X=(0,n._)("input",{type:"submit",value:"إضافة",href:"javascript:void(0);",class:"btn btn-primary d-block mt-3"},null,-1),ee=(0,n._)("hr",null,null,-1);function te(e,t,s,a,i,o){var c=(0,n.up)("iq-card");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(c,{id:"post-modal-data","body-class":"iq-card iq-card-block iq-card-stretch iq-card-height"},{headerTitle:(0,n.w5)((function(){return[(0,n._)("h4",O,"إضافة الأطروحة "+(0,r.zw)(s.noOfthesis+1),1)]})),body:(0,n.w5)((function(){return[(0,n._)("div",U,[s.book?((0,n.wg)(),(0,n.iD)("form",{key:0,onSubmit:t[4]||(t[4]=(0,P.iM)((function(){return o.submit&&o.submit.apply(o,arguments)}),["prevent"])),class:"post-text ml-3 w-100 row"},[(0,n._)("div",I,[(0,n.wy)((0,n._)("select",{class:"form-select","data-trigger":"",name:"choices-single-default",id:"choices-single-default","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.v$.thesis.pageStart.$model=e})},[A,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.book.pages,(function(e,t){return(0,n.wg)(),(0,n.iD)("option",{key:t,value:e},(0,r.zw)(e),9,W)})),128))],512),[[P.bM,a.v$.thesis.pageStart.$model]]),a.v$.thesis.pageStart.$error?((0,n.wg)(),(0,n.iD)("small",N,"الرجاء قم بادخال صفحة البداية")):(0,n.kq)("",!0)]),(0,n._)("div",H,[(0,n.wy)((0,n._)("select",{class:"form-select","data-trigger":"",name:"choices-single-default",id:"choices-single-default","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.v$.thesis.pageEnd.$model=e})},[K,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.book.pages,(function(e,t){return(0,n.wg)(),(0,n.iD)("option",{key:t,value:e},(0,r.zw)(e),9,M)})),128))],512),[[P.bM,a.v$.thesis.pageEnd.$model]]),a.v$.thesis.pageEnd.$error?((0,n.wg)(),(0,n.iD)("small",Y,(0,r.zw)(i.pageError?i.pageError:" الرجاء قم بادخال صفحة النهاية"),1)):(0,n.kq)("",!0)]),(0,n._)("div",V,[L,(0,n.wy)((0,n._)("textarea",{rows:"5",placeholder:"... اكتب أطروحتك",class:"rounded form-control",id:"thesisBody","onUpdate:modelValue":t[2]||(t[2]=function(e){return a.v$.thesis.text.$model=e})},null,512),[[P.nr,a.v$.thesis.text.$model]]),a.v$.thesis.text.$error?((0,n.wg)(),(0,n.iD)("p",R,(0,r.zw)(i.emojiError?i.emojiError:"   لطفًا قم بكتابة اطروحة عدد حروفها بين 500 و 1800"),1)):(0,n.kq)("",!0)]),0==i.photos_count?((0,n.wg)(),(0,n.iD)("div",G,[J,(0,n._)("input",{class:"form-control",type:"file",id:"customFile",ref:"file",onInput:t[3]||(t[3]=function(e){return i.thesis.image_1=e.target.files[0]})},null,544),Q])):(0,n.kq)("",!0),X],32)):(0,n.kq)("",!0)]),ee]})),_:1})])}s(9653),s(74916),s(4723),s(91058);var se=s(54028),ne=s(62587),re=s(74674);const ae={name:"CreateThesis",created:function(){this.getPhotosCount()},setup:function(){return{v$:(0,se.ZP)()}},props:{book:{type:[Object],required:!0},user_book_id:{type:[Number],required:!0},noOfthesis:{type:[Number],required:!0}},data:function(){return{photos_count:0,thesis:{text:"",pageStart:"",pageEnd:"",image_1:[],pages:0},pageError:"",emojiError:"",imageFlage:!1}},validations:function(){return{thesis:{text:{required:ne.C1,minLength:(0,ne.Ei)(500),maxLength:(0,ne.BS)(1800),validationEmoji:this.validateText},pageStart:{required:ne.C1},pageEnd:{required:ne.C1,valdiatePages:this.validatePages}}}},methods:{validateText:function(){var e=/^[a-zA-Z\u0600-\u06FF,\(\)?:;'"!.\s\d][\s\d\a-zA-Z\u0600-\u06FF,\(\)?:;'"!.][a-zA-Z\u0600-\u06FF,\(\)?:;'"!.\s\d][\s\d\a-zA-Z\u0600-\u06FF,\(\)?:;'"!.]*$/i,t=null!=this.thesis.text.match(e);return console.log(t),this.emojiError=t?"":"يجب ان يكون الادخال حروفا  او ارقاما فقط",t},validatePages:function(){var e=parseInt(this.thesis.pageStart)<parseInt(this.thesis.pageEnd);return this.pageError=e?"":"يجب ان تكون صفحة البداية اقل من صفحة النهاية",e},submit:function(){var e=this;return(0,F.Z)((0,j.Z)().mark((function t(){var s;return(0,j.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.v$.$touch(),e.v$.thesis.$invalid){t.next=13;break}return t.next=4,re.Z.createThesis(e.thesis,e.user_book_id);case 4:s=t.sent,e.thesis.text="",e.thesis.pageEnd="",e.thesis.pageStart="",e.thesis.image_1=[],e.$refs.file&&(e.$refs.file.value=null),e.v$.thesis.$reset(),e.getPhotosCount(),e.$emit("addThesis",s.data.data);case 13:case"end":return t.stop()}}),t)})))()},uploadFile:function(){this.thesis.file=this.$refs.file.files},getPhotosCount:function(){var e=this;return(0,F.Z)((0,j.Z)().mark((function t(){var s;return(0,j.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,re.Z.getPhotosCount(e.user_book_id);case 2:s=t.sent,e.photos_count=s;case 4:case"end":return t.stop()}}),t)})))()}}};var ie=s(83744);const oe=(0,ie.Z)(ae,[["render",te]]),ce=oe;var ue={class:"col-sm-12"},le={class:"card card-block card-stretch card-height"},de={class:"card-body"},he={class:"user-post-data"},pe={class:"d-flex justify-content-between"},me={class:"w-100"},fe={class:"d-flex justify-content-between"},ve={class:"w-100 text-start"},we={class:"mb-0 d-inline-block"},ge={key:0,class:"mb-0 text-primary"},_e={key:1,class:"alert alert-success w-100 mt-2"},be={key:0,class:"card-post-toolbar"},ke=(0,n._)("span",{class:"material-symbols-outlined"}," more_horiz ",-1),ye=[ke],xe=(0,n._)("span",{class:"material-symbols-outlined me-2 md-18"}," edit ",-1),Ze=(0,n.Uk)(" تعديل "),Te=[xe,Ze],Ce=(0,n._)("span",{class:"material-symbols-outlined me-2 md-18"}," delete ",-1),$e=(0,n.Uk)(" حذف "),qe=[Ce,$e],De=(0,n._)("hr",null,null,-1),ze={class:"row"},Be={class:"col-6 form-group"},Se=(0,n._)("label",{class:"form-label"},"صفحة البداية",-1),Ee={class:"form-control-plaintext"},je={class:"col-6 form-group"},Fe=(0,n._)("label",{class:"form-label"},"صفحة النهاية",-1),Pe={class:"form-control-plaintext"},Oe={class:"mt-3"},Ue={key:0,class:"user-post"},Ie={class:"d-grid grid-rows-2 grid-flow-col gap-3"},Ae=["onClick","src"];function We(e,t,s,a,i,o){return(0,n.wg)(),(0,n.iD)("div",ue,[(0,n._)("div",le,[(0,n._)("div",de,[(0,n._)("div",he,[(0,n._)("div",pe,[(0,n._)("div",me,[(0,n._)("div",fe,[(0,n._)("div",ve,[(0,n._)("h5",we,(0,r.zw)(s.title)+" "+(0,r.zw)(s.number+1),1),s.thesis.degree?((0,n.wg)(),(0,n.iD)("p",ge,"التقييم || "+(0,r.zw)(s.thesis.degree),1)):(0,n.kq)("",!0),s.thesis.reviews?((0,n.wg)(),(0,n.iD)("div",_e,(0,r.zw)(s.thesis.reviews),1)):(0,n.kq)("",!0)]),null==s.thesis.status||"retard"==s.thesis.status?((0,n.wg)(),(0,n.iD)("div",be,[(0,n._)("div",{class:"dropdown-toggle",id:"dropdownMenuButton","data-bs-toggle":"dropdown","aria-expanded":"false",role:"button",onClick:t[0]||(t[0]=function(e){return i.show=!i.show})},ye),(0,n._)("div",{class:(0,r.C_)("dropdown-menu dropdown-menu-right ".concat(i.show?"show":"")),"aria-labelledby":"dropdownMenuButton",style:{}},[(0,n._)("a",{class:"dropdown-item d-flex align-items-center",onClick:t[1]||(t[1]=function(e){return o.UpdateThesis(s.thesis.id)})},Te),(0,n._)("a",{class:"dropdown-item d-flex align-items-center",onClick:t[2]||(t[2]=function(e){return o.deleteThesis(s.thesis.id)})},qe)],2)])):(0,n.kq)("",!0)])])])]),De,(0,n._)("div",ze,[(0,n._)("div",Be,[Se,(0,n._)("label",Ee,(0,r.zw)(s.thesis.starting_page),1)]),(0,n._)("div",je,[Fe,(0,n._)("label",Pe,(0,r.zw)(s.thesis.ending_page),1)])]),(0,n._)("div",Oe,[(0,n._)("p",null,(0,r.zw)(s.thesis.thesis_text),1)]),s.thesis.photos?((0,n.wg)(),(0,n.iD)("div",Ue,[(0,n._)("div",Ie,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.thesis.photos,(function(e){return(0,n.wg)(),(0,n.iD)("div",{class:"row-span-2 row-span-md-1 text-center",key:e.id},[(0,n._)("img",{style:{cursor:"pointer"},onClick:function(t){return o.openPhoto(e)},src:o.resolve_img_url(e),alt:"post-image",class:"img-fluid rounded w-50"},null,8,Ae)])})),128))])])):(0,n.kq)("",!0)])])])}const Ne={name:"ThesisDisplay",components:{},props:{thesis:{type:[Object],required:!0},number:{type:[Number],required:!0},title:{type:[String],required:!0},book:{type:[Object],required:!0}},data:function(){return{show:!1}},methods:{resolve_img_url:function(e){var t="http://localhost:8000/api/thesises/image?path=".concat(e.path);return t},deleteThesis:function(e){this.show=!this.show;var t=this.$swal.mixin({customClass:{confirmButton:"btn btn-primary btn-lg",cancelButton:"btn btn-outline-primary btn-lg ms-2"},buttonsStyling:!1});t.fire({title:"هل أنت متأكد؟",text:"موافقتك تعني حذف هذه الأطروحة ",icon:"warning",showCancelButton:!0,confirmButtonText:"نعم قم بالحذف",cancelButtonText:"تراجع  ",showClass:{popup:"animate__animated animate__zoomIn"},hideClass:{popup:"animate__animated animate__zoomOut"}}).then((function(s){s.isConfirmed&&re.Z.deleteThesis(e).then((function(e){t.fire({title:"تم الحذف",text:"تم حذف الأطروحة",icon:"success",showClass:{popup:"animate__animated animate__zoomIn"},hideClass:{popup:"animate__animated animate__zoomOut"}}),location.reload()}))["catch"]((function(e){console.log(e)}))}))},UpdateThesis:function(e){this.show=!this.show,this.$router.push({path:"/thesis-review/update/".concat(e)})},openPhoto:function(e){var t="http://localhost:8000/api/thesises/image?path=".concat(e.path);window.open(t,"_blank")}}},He=(0,ie.Z)(Ne,[["render",We]]),Ke=He,Me={name:"Theses",created:function(){var e=this;return(0,F.Z)((0,j.Z)().mark((function t(){return(0,j.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getTheses();case 2:case"end":return t.stop()}}),t)})))()},components:{CreateThesis:ce,ThesisDisplay:Ke},data:function(){return{already_have_one:0,auditable:!1,book:null,user_book:null,status:"",theses:[],thesisTitle:"الأطروحة رقم",error:"",current:1,insertSuccessful:!1}},methods:{getTheses:function(){var e=this;return(0,F.Z)((0,j.Z)().mark((function t(){var s;return(0,j.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,re.Z.getByBook(e.$route.params.id);case 2:s=t.sent,e.book=s.user_book.book,e.theses=s.theses,e.user_book=s.user_book,e.status=e.user_book.status,e.auditable=e.theses.some((function(e){return"retard"===e.status||null===e.status}));case 8:case"end":return t.stop()}}),t)})))()},addThesis:function(e){this.theses.push(e),this.auditable=!0,this.insertSuccessful=!0},reviewThesisStatus:function(){var e=this;return(0,F.Z)((0,j.Z)().mark((function t(){var s;return(0,j.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:s=e.$swal.mixin({customClass:{confirmButton:"btn btn-primary btn-lg",cancelButton:"btn btn-outline-primary btn-lg ms-2"},buttonsStyling:!1}),s.fire({title:"هل أنت متأكد؟",text:"في حال اعتمادك للاطروحات لن يمكنك اضافة  أطروحة جديدة أو التعديل على الأطروحات التي كتبتها ",icon:"warning",showCancelButton:!0,confirmButtonText:"نعم قم بالاعتماد",cancelButtonText:"تراجع  ",showClass:{popup:"animate__animated animate__zoomIn"},hideClass:{popup:"animate__animated animate__zoomOut"}}).then((function(t){t.isConfirmed&&re.Z.reviewThesis(e.user_book.id).then((function(t){s.fire({title:"تم الاعتماد",text:"تم اعتماد أطروحاتك",icon:"success",showClass:{popup:"animate__animated animate__zoomIn"},hideClass:{popup:"animate__animated animate__zoomOut"}}),e.insertSuccessful=!1,location.reload()}))["catch"]((function(e){console.log(e)}))}));case 2:case"end":return t.stop()}}),t)})))()},back:function(){this.$router.push({name:"achievement.steps",params:{id:this.$route.params.id}})},changeTab:function(e){this.current=e,window.scrollTo({behavior:"smooth"})},checkActive:function(e,t){var s="";return this.current>e&&(s="active"),this.current>t&&(s+=" done"),s}}},Ye=(0,ie.Z)(Me,[["render",E]]),Ve=Ye},44272:(e,t,s)=>{e.exports=s.p+"img/book-banner.6a2a5a9c.png"},90475:(e,t,s)=>{e.exports=s.p+"img/reader.b5157672.png"}}]);
//# sourceMappingURL=9560.4fd3524f.js.map