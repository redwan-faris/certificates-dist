"use strict";(self["webpackChunkosboha180"]=self["webpackChunkosboha180"]||[]).push([[3254],{5212:(e,t,s)=>{var n=s(82109),r=s(42092).some,a=s(9341),i=a("some");n({target:"Array",proto:!0,forced:!i},{some:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},74674:(e,t,s)=>{s.d(t,{Z:()=>o});var n=s(50124),r=s(48534),a=(s(92222),s(62760)),i=s(57333);const o={createThesis:function(){var e=(0,r.Z)((0,n.Z)().mark((function e(t,s){var r,i;return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=new FormData,r.append("thesis_text",t.text),r.append("ending_page",t.pageEnd),r.append("starting_page",t.pageStart),r.append("user_book_id",s),r.append("images[]",t.image_1),e.next=8,a.h.post("/thesises",r,{headers:{"Content-Type":"multipart/form-data"}})["catch"]((function(e){console.log(e)}));case 8:return i=e.sent,e.abrupt("return",i);case 10:case"end":return e.stop()}}),e)})));function t(t,s){return e.apply(this,arguments)}return t}(),updatePicture:function(){var e=(0,r.Z)((0,n.Z)().mark((function e(t,s){var r,i;return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=new FormData,r.append("path",s),r.append("image",t),e.next=5,a.h.post("/thesises/update-photo",r,{headers:{"Content-Type":"multipart/form-data"}})["catch"]((function(e){console.log(e)}));case 5:return i=e.sent,e.abrupt("return",i.data.data);case 7:case"end":return e.stop()}}),e)})));function t(t,s){return e.apply(this,arguments)}return t}(),reviewThesis:function(){var e=(0,r.Z)((0,n.Z)().mark((function e(t){return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.h.patch("/thesises/review-thesis/".concat(t));case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),deleteThesis:function(e){var t=a.h["delete"]("/thesises/".concat(e));return t},acceptThesis:function(e,t){var s,n=null;"accept"==t?s=e:"audit"==t&&(n=e);var r=a.h.post("/thesises/review",{id:s,user_book_id:n,status:t,reviewer_id:i.Z.getUser().id});return r},rejectRetardThesis:function(e,t,s){var n=a.h.post("/thesises/review",{id:e,status:s,reviewer_id:i.Z.getUser().id,reviews:t});return n},addDegree:function(e,t,s){var n=a.h.patch("/thesises/add-degree/".concat(e),{auditor_id:i.Z.getUser().id,reviews:t,degree:s});return n},updateThesis:function(){var e=(0,r.Z)((0,n.Z)().mark((function e(t,s){var r;return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.h.patch("thesises/".concat(s),t)["catch"]((function(e){console.log(e)}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));function t(t,s){return e.apply(this,arguments)}return t}(),getById:function(){var e=(0,r.Z)((0,n.Z)().mark((function e(t){var s;return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.h.get("thesises/".concat(t));case 2:return s=e.sent,e.abrupt("return",s.data.data);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),getByBook:function(){var e=(0,r.Z)((0,n.Z)().mark((function e(t){var s;return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.h.get("thesises/book/".concat(t));case 2:return s=e.sent,e.abrupt("return",s.data.data);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),getByUserBookStatus:function(){var e=(0,r.Z)((0,n.Z)().mark((function e(t){var s;return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.h.get("thesises/by-status/".concat(t));case 2:return s=e.sent,s.data,e.abrupt("return",s.data.data);case 5:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),getByUserBook:function(){var e=(0,r.Z)((0,n.Z)().mark((function e(t,s){var r;return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.h.get("thesises/user_book_id/".concat(t,"&").concat(s));case 2:return r=e.sent,r.data,e.abrupt("return",r.data.data);case 5:case"end":return e.stop()}}),e)})));function t(t,s){return e.apply(this,arguments)}return t}(),deletePhoto:function(){var e=(0,r.Z)((0,n.Z)().mark((function e(t){return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.h["delete"]("thesises/photo/".concat(t));case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),getPhotosCount:function(){var e=(0,r.Z)((0,n.Z)().mark((function e(t){var s;return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.h.get("thesises/photo-count/".concat(t));case 2:return s=e.sent,e.abrupt("return",s.data.data);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),uploadPhoto:function(){var e=(0,r.Z)((0,n.Z)().mark((function e(t,s){var r,i;return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=new FormData,r.append("image",t),e.next=4,a.h.post("/thesises/upload/".concat(s),r,{headers:{"Content-Type":"multipart/form-data"}})["catch"]((function(e){console.log(e)}));case 4:return i=e.sent,e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));function t(t,s){return e.apply(this,arguments)}return t}()}},93254:(e,t,s)=>{s.r(t),s.d(t,{default:()=>Ve});var n=s(66252),r=s(3577),a=s(44272),i=s(90475),o={class:"row"},u={class:"col-sm-12"},c={class:"iq-card-body profile-page p-0"},l={class:"profile-header"},d=(0,n._)("div",{class:"cover-container"},[(0,n._)("img",{src:a,alt:"profile-bg",class:"rounded img-fluid"})],-1),p={class:"user-detail text-center mb-3"},h=(0,n._)("div",{class:"profile-img"},[(0,n._)("img",{src:i,alt:"profile-img",class:"avatar-130 img-fluid"})],-1),f={class:"profile-detail mt-1"},m=(0,n._)("br",null,null,-1),w={key:0,class:""},g={class:"iq-card-body p-0"},b={class:"user-tabing"},v={class:"col-sm-12"},_={class:"tab-content"},k={class:"iq-card-body p-0"},y={class:"row"},x={class:"col-12"},Z={key:0,id:"post-modal-data",class:"iq-card"},T=(0,n._)("div",null,[(0,n._)("h5",{class:"card-title"}," تمت الاضافة بنجاح ")],-1),C={class:"col-12"},q=(0,n._)("h4",{class:"card-title"},"الأطروحات",-1),$={id:"form-wizard1",class:"text-center mt-3"},D={id:"top-tab-list",class:"p-0 row list-inline"},B=["onClick"],z={href:"javascript:void(0);"},S={class:"col-12"};function E(e,t,s,a,i,E){var j=(0,n.up)("iq-card"),P=(0,n.up)("tab-nav-items"),O=(0,n.up)("tab-nav"),U=(0,n.up)("CreateThesis"),F=(0,n.up)("alert"),W=(0,n.up)("ThesisDisplay"),I=(0,n.up)("tab-content-item");return(0,n.wg)(),(0,n.iD)("div",o,[(0,n._)("div",u,[(0,n.Wm)(j,null,{default:(0,n.w5)((function(){return[(0,n._)("div",c,[(0,n._)("div",l,[d,(0,n._)("div",p,[h,(0,n._)("div",f,[m,i.book?((0,n.wg)(),(0,n.iD)("h3",w,(0,r.zw)(i.book.book_name)+" - قسم الأطروحات",1)):(0,n.kq)("",!0)])])])])]})),_:1}),(0,n.Wm)(j,{class:"iq-card"},{default:(0,n.w5)((function(){return[(0,n._)("div",g,[(0,n._)("div",b,[(0,n.Wm)(O,{pills:!0,id:"pills-tab",class:"nav nav-pills d-flex align-items-center justify-content-center profile-feed-items p-0 m-0"},{default:(0,n.w5)((function(){return[(0,n.Wm)(P,{class:"w-100 p-0",active:!0,id:"pills-feed-tab",href:"#theses_container",ariaControls:"pills-home",role:"tab",ariaSelected:!0,title:"المرحلة الأولى - الأطروحات"})]})),_:1})])])]})),_:1})]),(0,n._)("div",v,[(0,n._)("div",_,[(0,n.Wm)(I,{active:!0,id:"theses_container","aria-labelled-by":"pills-feed-tab"},{default:(0,n.w5)((function(){return[(0,n._)("div",k,[(0,n._)("div",y,[(0,n._)("div",x,[i.user_book?((0,n.wg)(),(0,n.iD)("div",Z,[i.theses.length<12&&!i.status&&i.auditable||0==i.theses.length||i.theses.length<8?((0,n.wg)(),(0,n.j4)(U,{key:0,onAddThesis:E.addThesis,book:i.book,noOfthesis:i.theses.length,user_book_id:i.user_book.id},null,8,["onAddThesis","book","noOfthesis","user_book_id"])):(0,n.kq)("",!0)])):(0,n.kq)("",!0),i.insertSuccessful?((0,n.wg)(),(0,n.j4)(F,{key:1,variant:"primary",className:"d-flex align-items-center text-center"},{default:(0,n.w5)((function(){return[T]})),_:1})):(0,n.kq)("",!0)]),(0,n._)("div",C,[(0,n.Wm)(j,null,{headerTitle:(0,n.w5)((function(){return[q]})),body:(0,n.w5)((function(){return[(0,n._)("form",$,[(0,n._)("ul",D,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.theses,(function(e,t){return(0,n.wg)(),(0,n.iD)("li",{key:t,class:(0,r.C_)([E.checkActive(t,t+1),"col-2 mb-2 text-start"]),onClick:function(e){return E.changeTab(t+1)},id:"account"},[(0,n._)("a",z,[(0,n._)("span",null,(0,r.zw)(t+1),1)])],10,B)})),128))]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.theses,(function(e,t){return(0,n.wg)(),(0,n.iD)("fieldset",{key:t,class:(0,r.C_)(i.current==t+1?"d-block":"d-none")},[(0,n.Wm)(W,{thesis:e,number:t,title:i.thesisTitle,book:i.book,onOnNext:E.changeTab},null,8,["thesis","number","title","book","onOnNext"])],2)})),128))])]})),_:1})]),(0,n._)("div",S,[(0,n.Wm)(j,null,{body:(0,n.w5)((function(){return[i.theses.length>=8&&i.auditable?((0,n.wg)(),(0,n.iD)("button",{key:0,class:"btn btn-primary d-block w-100 mb-3",onClick:t[0]||(t[0]=function(){return E.reviewThesisStatus&&E.reviewThesisStatus.apply(E,arguments)})}," اعتماد ")):(0,n.kq)("",!0),(0,n._)("button",{class:"btn btn-success d-block w-100",onClick:t[1]||(t[1]=function(e){return E.back()})}," عودة لصفحة الانجاز ")]})),_:1})])])])]})),_:1})])])])}var j=s(50124),P=s(48534),O=(s(5212),s(41539),s(49963)),U={class:"card-title"},F={class:"d-flex align-items-center"},W={class:"form-group col-6"},I=(0,n._)("option",{value:""},"اختر صفحة البداية",-1),N=["value"],A={key:0,style:{color:"red"}},H={class:"form-group col-6"},K=(0,n._)("option",{value:""},"اختر صفحة النهاية",-1),M=["value"],Y={key:0,style:{color:"red"}},V={class:"form-group"},L=(0,n._)("label",{class:"form-label",for:"thesisBody"},"الأطروحة",-1),R={key:0,style:{color:"red"}},G={key:0,class:"form-group"},J=(0,n._)("label",{class:"form-label",for:"customFile"},"ارفع هنا صورة لاطروحتك أعلاه من منشور فريق المتابعة الخاص بك",-1),Q=(0,n._)("small",{style:{color:"red"}}," * يجب إضافة صورة كحد أدنى لاعتماد الأطروحات للتوثيق. ",-1),X=(0,n._)("input",{type:"submit",value:"إضافة",href:"javascript:void(0);",class:"btn btn-primary d-block mt-3"},null,-1),ee=(0,n._)("hr",null,null,-1);function te(e,t,s,a,i,o){var u=(0,n.up)("iq-card");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(u,{id:"post-modal-data","body-class":"iq-card iq-card-block iq-card-stretch iq-card-height"},{headerTitle:(0,n.w5)((function(){return[(0,n._)("h4",U,"إضافة الأطروحة "+(0,r.zw)(s.noOfthesis+1),1)]})),body:(0,n.w5)((function(){return[(0,n._)("div",F,[s.book?((0,n.wg)(),(0,n.iD)("form",{key:0,onSubmit:t[4]||(t[4]=(0,O.iM)((function(){return o.submit&&o.submit.apply(o,arguments)}),["prevent"])),class:"post-text ml-3 w-100 row"},[(0,n._)("div",W,[(0,n.wy)((0,n._)("select",{class:"form-select","data-trigger":"",name:"choices-single-default",id:"choices-single-default","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.v$.thesis.pageStart.$model=e})},[I,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.book.pages,(function(e,t){return(0,n.wg)(),(0,n.iD)("option",{key:t,value:e},(0,r.zw)(e),9,N)})),128))],512),[[O.bM,a.v$.thesis.pageStart.$model]]),a.v$.thesis.pageStart.$error?((0,n.wg)(),(0,n.iD)("small",A,"الرجاء قم بادخال صفحة البداية")):(0,n.kq)("",!0)]),(0,n._)("div",H,[(0,n.wy)((0,n._)("select",{class:"form-select","data-trigger":"",name:"choices-single-default",id:"choices-single-default","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.v$.thesis.pageEnd.$model=e})},[K,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.book.pages,(function(e,t){return(0,n.wg)(),(0,n.iD)("option",{key:t,value:e},(0,r.zw)(e),9,M)})),128))],512),[[O.bM,a.v$.thesis.pageEnd.$model]]),a.v$.thesis.pageEnd.$error?((0,n.wg)(),(0,n.iD)("small",Y,(0,r.zw)(i.pageError?i.pageError:" الرجاء قم بادخال صفحة النهاية"),1)):(0,n.kq)("",!0)]),(0,n._)("div",V,[L,(0,n.wy)((0,n._)("textarea",{rows:"5",placeholder:"... اكتب أطروحتك",class:"rounded form-control",id:"thesisBody","onUpdate:modelValue":t[2]||(t[2]=function(e){return a.v$.thesis.text.$model=e})},null,512),[[O.nr,a.v$.thesis.text.$model]]),a.v$.thesis.text.$error?((0,n.wg)(),(0,n.iD)("p",R," لطفًا قم بكتابة اطروحة عدد حروفها بين 500 و 1800 خالية من الرموز التعبيرية (emojis) ")):(0,n.kq)("",!0)]),0==i.photos_count?((0,n.wg)(),(0,n.iD)("div",G,[J,(0,n._)("input",{class:"form-control",type:"file",id:"customFile",ref:"file",onInput:t[3]||(t[3]=function(e){return i.thesis.image_1=e.target.files[0]})},null,544),Q])):(0,n.kq)("",!0),X],32)):(0,n.kq)("",!0)]),ee]})),_:1})])}s(9653),s(91058),s(74916),s(15306);var se=s(54028),ne=s(62587),re=s(74674);const ae={name:"CreateThesis",created:function(){this.getPhotosCount()},setup:function(){return{v$:(0,se.ZP)()}},props:{book:{type:[Object],required:!0},user_book_id:{type:[Number],required:!0},noOfthesis:{type:[Number],required:!0}},data:function(){return{photos_count:0,thesis:{text:"",pageStart:"",pageEnd:"",image_1:[],pages:0},pageError:"",emojiError:"",imageFlage:!1}},validations:function(){return{thesis:{text:{required:ne.C1,minLength:(0,ne.Ei)(500),maxLength:(0,ne.BS)(1800)},pageStart:{required:ne.C1},pageEnd:{required:ne.C1,valdiatePages:this.validatePages}}}},methods:{validatePages:function(){var e=parseInt(this.thesis.pageStart)<parseInt(this.thesis.pageEnd);return this.pageError=e?"":"يجب ان تكون صفحة البداية اقل من صفحة النهاية",e},submit:function(){var e=this;return(0,P.Z)((0,j.Z)().mark((function t(){var s;return(0,j.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.thesis.text=e.removeEmojis(e.thesis.text),e.v$.$touch(),e.v$.thesis.$invalid){t.next=14;break}return t.next=5,re.Z.createThesis(e.thesis,e.user_book_id);case 5:s=t.sent,e.thesis.text="",e.thesis.pageEnd="",e.thesis.pageStart="",e.thesis.image_1=[],e.$refs.file&&(e.$refs.file.value=null),e.v$.thesis.$reset(),e.getPhotosCount(),e.$emit("addThesis",s.data.data);case 14:case"end":return t.stop()}}),t)})))()},removeEmojis:function(e){var t=/(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\u0023-\u0039]\ufe0f?\u20e3|\u3299|\u3297|\u303d|\u3030|\u24c2|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|\ud83c\udd8e|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|\ud83c[\ude01-\ude02]|\ud83c\ude1a|\ud83c\ude2f|\ud83c[\ude32-\ude3a]|\ud83c[\ude50-\ude51]|\u203c|\u2049|[\u25aa-\u25ab]|\u25b6|\u25c0|[\u25fb-\u25fe]|\u00a9|\u00ae|\u2122|\u2139|\ud83c\udc04|[\u2600-\u26FF]|\u2b05|\u2b06|\u2b07|\u2b1b|\u2b1c|\u2b50|\u2b55|\u231a|\u231b|\u2328|\u23cf|[\u23e9-\u23f3]|[\u23f8-\u23fa]|\ud83c\udccf|\u2934|\u2935|[\u2190-\u21ff])/g;return e.replace(t,"")},uploadFile:function(){this.thesis.file=this.$refs.file.files},getPhotosCount:function(){var e=this;return(0,P.Z)((0,j.Z)().mark((function t(){var s;return(0,j.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,re.Z.getPhotosCount(e.user_book_id);case 2:s=t.sent,e.photos_count=s;case 4:case"end":return t.stop()}}),t)})))()}}};var ie=s(83744);const oe=(0,ie.Z)(ae,[["render",te]]),ue=oe;var ce={class:"col-sm-12"},le={class:"card card-block card-stretch card-height"},de={class:"card-body"},pe={class:"user-post-data"},he={class:"d-flex justify-content-between"},fe={class:"w-100"},me={class:"d-flex justify-content-between"},we={class:"w-100 text-start"},ge={class:"mb-0 d-inline-block"},be={key:0,class:"mb-0 text-primary"},ve={key:1,class:"alert alert-success w-100 mt-2"},_e={key:0,class:"card-post-toolbar"},ke=(0,n._)("span",{class:"material-symbols-outlined"}," more_horiz ",-1),ye=[ke],xe=(0,n._)("span",{class:"material-symbols-outlined me-2 md-18"}," edit ",-1),Ze=(0,n.Uk)(" تعديل "),Te=[xe,Ze],Ce=(0,n._)("span",{class:"material-symbols-outlined me-2 md-18"}," delete ",-1),qe=(0,n.Uk)(" حذف "),$e=[Ce,qe],De=(0,n._)("hr",null,null,-1),Be={class:"row"},ze={class:"col-6 form-group"},Se=(0,n._)("label",{class:"form-label"},"صفحة البداية",-1),Ee={class:"form-control-plaintext"},je={class:"col-6 form-group"},Pe=(0,n._)("label",{class:"form-label"},"صفحة النهاية",-1),Oe={class:"form-control-plaintext"},Ue={class:"mt-3"},Fe={key:0,class:"user-post"},We={class:"d-grid grid-rows-2 grid-flow-col gap-3"},Ie=["onClick","src"];function Ne(e,t,s,a,i,o){return(0,n.wg)(),(0,n.iD)("div",ce,[(0,n._)("div",le,[(0,n._)("div",de,[(0,n._)("div",pe,[(0,n._)("div",he,[(0,n._)("div",fe,[(0,n._)("div",me,[(0,n._)("div",we,[(0,n._)("h5",ge,(0,r.zw)(s.title)+" "+(0,r.zw)(s.number+1),1),s.thesis.degree?((0,n.wg)(),(0,n.iD)("p",be,"التقييم || "+(0,r.zw)(s.thesis.degree),1)):(0,n.kq)("",!0),s.thesis.reviews?((0,n.wg)(),(0,n.iD)("div",ve,(0,r.zw)(s.thesis.reviews),1)):(0,n.kq)("",!0)]),null==s.thesis.status||"retard"==s.thesis.status?((0,n.wg)(),(0,n.iD)("div",_e,[(0,n._)("div",{class:"dropdown-toggle",id:"dropdownMenuButton","data-bs-toggle":"dropdown","aria-expanded":"false",role:"button",onClick:t[0]||(t[0]=function(e){return i.show=!i.show})},ye),(0,n._)("div",{class:(0,r.C_)("dropdown-menu dropdown-menu-right ".concat(i.show?"show":"")),"aria-labelledby":"dropdownMenuButton",style:{}},[(0,n._)("a",{class:"dropdown-item d-flex align-items-center",onClick:t[1]||(t[1]=function(e){return o.UpdateThesis(s.thesis.id)})},Te),(0,n._)("a",{class:"dropdown-item d-flex align-items-center",onClick:t[2]||(t[2]=function(e){return o.deleteThesis(s.thesis.id)})},$e)],2)])):(0,n.kq)("",!0)])])])]),De,(0,n._)("div",Be,[(0,n._)("div",ze,[Se,(0,n._)("label",Ee,(0,r.zw)(s.thesis.starting_page),1)]),(0,n._)("div",je,[Pe,(0,n._)("label",Oe,(0,r.zw)(s.thesis.ending_page),1)])]),(0,n._)("div",Ue,[(0,n._)("p",null,(0,r.zw)(s.thesis.thesis_text),1)]),s.thesis.photos?((0,n.wg)(),(0,n.iD)("div",Fe,[(0,n._)("div",We,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.thesis.photos,(function(e){return(0,n.wg)(),(0,n.iD)("div",{class:"row-span-2 row-span-md-1 text-center",key:e.id},[(0,n._)("img",{style:{cursor:"pointer"},onClick:function(t){return o.openPhoto(e)},src:o.resolve_img_url(e),alt:"post-image",class:"img-fluid rounded w-50"},null,8,Ie)])})),128))])])):(0,n.kq)("",!0)])])])}const Ae={name:"ThesisDisplay",components:{},props:{thesis:{type:[Object],required:!0},number:{type:[Number],required:!0},title:{type:[String],required:!0},book:{type:[Object],required:!0}},data:function(){return{show:!1}},methods:{resolve_img_url:function(e){var t="https://www.eligible.osboha180.com/api/thesises/image?path=".concat(e.path);return t},deleteThesis:function(e){this.show=!this.show;var t=this.$swal.mixin({customClass:{confirmButton:"btn btn-primary btn-lg",cancelButton:"btn btn-outline-primary btn-lg ms-2"},buttonsStyling:!1});t.fire({title:"هل أنت متأكد؟",text:"موافقتك تعني حذف هذه الأطروحة ",icon:"warning",showCancelButton:!0,confirmButtonText:"نعم قم بالحذف",cancelButtonText:"تراجع  ",showClass:{popup:"animate__animated animate__zoomIn"},hideClass:{popup:"animate__animated animate__zoomOut"}}).then((function(s){s.isConfirmed&&re.Z.deleteThesis(e).then((function(e){t.fire({title:"تم الحذف",text:"تم حذف الأطروحة",icon:"success",showClass:{popup:"animate__animated animate__zoomIn"},hideClass:{popup:"animate__animated animate__zoomOut"}}),location.reload()}))["catch"]((function(e){console.log(e)}))}))},UpdateThesis:function(e){this.show=!this.show,this.$router.push({path:"/thesis-review/update/".concat(e)})},openPhoto:function(e){var t="https://www.eligible.osboha180.com/api/thesises/image?path=".concat(e.path);window.open(t,"_blank")}}},He=(0,ie.Z)(Ae,[["render",Ne]]),Ke=He,Me={name:"Theses",created:function(){var e=this;return(0,P.Z)((0,j.Z)().mark((function t(){return(0,j.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getTheses();case 2:case"end":return t.stop()}}),t)})))()},components:{CreateThesis:ue,ThesisDisplay:Ke},data:function(){return{already_have_one:0,auditable:!1,book:null,user_book:null,status:"",theses:[],thesisTitle:"الأطروحة رقم",error:"",current:1,insertSuccessful:!1}},methods:{getTheses:function(){var e=this;return(0,P.Z)((0,j.Z)().mark((function t(){var s;return(0,j.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,re.Z.getByBook(e.$route.params.id);case 2:s=t.sent,e.book=s.user_book.book,e.theses=s.theses,e.user_book=s.user_book,e.status=e.user_book.status,e.auditable=e.theses.some((function(e){return"retard"===e.status||null===e.status}));case 8:case"end":return t.stop()}}),t)})))()},addThesis:function(e){this.theses.push(e),this.auditable=!0,this.insertSuccessful=!0},reviewThesisStatus:function(){var e=this;return(0,P.Z)((0,j.Z)().mark((function t(){var s;return(0,j.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:s=e.$swal.mixin({customClass:{confirmButton:"btn btn-primary btn-lg",cancelButton:"btn btn-outline-primary btn-lg ms-2"},buttonsStyling:!1}),s.fire({title:"هل أنت متأكد؟",text:"في حال اعتمادك للاطروحات لن يمكنك اضافة  أطروحة جديدة أو التعديل على الأطروحات التي كتبتها ",icon:"warning",showCancelButton:!0,confirmButtonText:"نعم قم بالاعتماد",cancelButtonText:"تراجع  ",showClass:{popup:"animate__animated animate__zoomIn"},hideClass:{popup:"animate__animated animate__zoomOut"}}).then((function(t){t.isConfirmed&&re.Z.reviewThesis(e.user_book.id).then((function(t){s.fire({title:"تم الاعتماد",text:"تم اعتماد أطروحاتك",icon:"success",showClass:{popup:"animate__animated animate__zoomIn"},hideClass:{popup:"animate__animated animate__zoomOut"}}),e.insertSuccessful=!1,location.reload()}))["catch"]((function(e){console.log(e)}))}));case 2:case"end":return t.stop()}}),t)})))()},back:function(){this.$router.push({name:"achievement.steps",params:{id:this.$route.params.id}})},changeTab:function(e){this.current=e,window.scrollTo({behavior:"smooth"})},checkActive:function(e,t){var s="";return this.current>e&&(s="active"),this.current>t&&(s+=" done"),s}}},Ye=(0,ie.Z)(Me,[["render",E]]),Ve=Ye},44272:(e,t,s)=>{e.exports=s.p+"img/book-banner.6a2a5a9c.png"},90475:(e,t,s)=>{e.exports=s.p+"img/reader.b5157672.png"}}]);
//# sourceMappingURL=3254.ab4aa586.js.map