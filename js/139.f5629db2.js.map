{"version":3,"file":"js/139.f5629db2.js","mappings":"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","sources":["webpack://osboha180/./src/api/userServices.js","webpack://osboha180/./src/views/User/update-info.vue","webpack://osboha180/./src/views/User/update-info.vue?6dd7"],"sourcesContent":["import { api } from \"./Intercepter\"\r\n\r\nexport default {\r\n  getUnactive() {\r\n    const users = api.get(`users/list/un-active`);\r\n    return users;\r\n\r\n  },\r\n\r\n  getUnactiveReviwers() {\r\n    const users = api.get(`users/list/un-active-reviwers-auditors`);\r\n    return users;\r\n\r\n  },\r\n  updateInfo: async (info) => {\r\n    let formData = new FormData();\r\n    formData.append(\"name\", info.name);\r\n    formData.append(\"fb_name\", info.fb_name);\r\n   \r\n    formData.append(\"image\", info.file[0]);\r\n\r\n    const response = await api.post(\"users/update-info\", formData, {\r\n      headers: {\r\n        \"Content-Type\": \"multipart/form-data\",\r\n      },\r\n    }).catch(error => {\r\n\r\n      console.log(error)\r\n    }\r\n    ) \r\n    console.log(response)\r\n    return response;\r\n\r\n  \r\n  },\r\n\r\n\r\n  deActiveUser: async (id, rejectNote) => {\r\n    try {\r\n      const response = await api.post(\"users/deactive-user\", {\r\n        id: id,\r\n        rejectNote: rejectNote,\r\n      });\r\n      return response.data;\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  },\r\n\r\n  acceptUser(id) {\r\n    const user = api.patch(`users/activate/${id}`);\r\n    return user;\r\n\r\n  },\r\n  async getUserStatistics() {\r\n    const user = await api.get(`users/statistics`);\r\n    return user.data.data;\r\n\r\n  },\r\n\r\n  acceptThesis(id) {\r\n    return true;\r\n\r\n  }\r\n}\r\n\r\n","<template>\r\n  <div class=\"col-sm-12 mt-3\">\r\n    <iq-card class=\"iq-card\">\r\n      <div class=\"iq-card-body p-3\">\r\n        <div class=\"image-block text-center\">\r\n          <img src=\"@/assets/images/update-info.png\" class=\"img-fluid rounded w-50\" alt=\"blog-img\" />\r\n        </div>\r\n      </div>\r\n      <div class=\"col-12 bg-white pt-2\">\r\n        <div class=\"sign-in-from\">\r\n          <h1 class=\"mb-0\">تعديل البيانات الشخصية</h1>\r\n          <form class=\"mt-2\">\r\n            <div class=\"form-group\">\r\n              <label for=\"exampleInputEmail1\">الاسم</label>\r\n              <input type=\"text\" v-model=\"v$.form.name.$model\" class=\"form-control mb-0\" id=\"exampleInputEmail1\"\r\n                placeholder=\"ادخال الاسم هنا\" />\r\n              <small style=\"color: red\" v-if=\"v$.form.name.$error\">الرجاء قم بادخال اسمك كما هو في المستند\r\n                الرسمي</small>\r\n            </div>\r\n            <div class=\"form-group\">\r\n              <label for=\"exampleInputEmail1\">الاسم في فيس بوك</label>\r\n              <input type=\"text\" v-model=\"v$.form.fb_name.$model\" class=\"form-control mb-0\" id=\"exampleInputEmail1\"\r\n                placeholder=\"ادخال الاسم كما هو في فيس بوك هنا\" />\r\n              <small style=\"color: red\" v-if=\"v$.form.fb_name.$error\">الرجاء قم بادخال اسمك كما هو في المستند\r\n                الرسمي</small>\r\n            </div>\r\n            <div class=\"form-group\">\r\n              <label class=\"form-label\" for=\"customFile\">صورة مستند تثبت هويتك </label>\r\n              <input class=\"form-control\" type=\"file\" id=\"customFile\" ref=\"file\" @change=\"uploadFile\" />\r\n              <small style=\"color: red\" v-if=\"v$.form.file.$error\">الرجاء قم برفع صورة</small>\r\n              <div class=\"form-group\" v-if=\"fileExtnError\">\r\n                <small style=\"color: red\">\r\n                  {{ fileExtnError }}\r\n                </small>\r\n              </div>\r\n              \r\n            </div>\r\n            <div class=\"form-group\" v-if=\"regError\">\r\n              <small style=\"color: red\">\r\n                {{ regError }}\r\n              </small>\r\n            </div>\r\n\r\n            <div class=\"col-sm-12 text-center\" v-if=\"loader\">\r\n              <img src=\"@/assets/images/page-img/page-load-loader.gif\" alt=\"loader\" style=\"height: 100px;\" />\r\n            </div>\r\n            <div class=\"d-inline-block w-100\">\r\n              <input type=\"button\" @click=\"onSubmit()\" class=\"btn btn-primary float-end\" value=\"تحديث\">\r\n                \r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </iq-card>\r\n  </div>\r\n</template>\r\n<script>\r\nimport useVuelidate from \"@vuelidate/core\";\r\nimport { required, email, minLength, requiredIf } from \"@vuelidate/validators\";\r\nimport userServices from '../../api/userServices'\r\n\r\n\r\nexport default {\r\n  name: \"SignUp\",\r\n  setup() {\r\n    return { v$: useVuelidate() };\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      loader: false,\r\n\r\n      form: {\r\n        name: \"\",\r\n        file: [],\r\n        fb_name: ''\r\n      },\r\n      regError: '',\r\n      fileExtnError: null,\r\n\r\n    };\r\n  },\r\n  methods: {\r\n    uploadFile() {\r\n\r\n      this.form.file = this.$refs.file.files;\r\n      var re = /(\\.jpg|\\.jpeg|\\.bmp|\\.gif|\\.png)$/i;\r\n      if (!re.exec(this.form.file[0].name)) {\r\n        this.fileExtnError = 'صيغة الملف غير مدعومة، اختر ملفًا أخر';\r\n      }\r\n      else{\r\n        this.fileExtnError=null\r\n      }\r\n\r\n    },\r\n    async onSubmit() {\r\n      this.v$.$touch();\r\n\r\n      if (!this.v$.form.$invalid) {\r\n        this.regError = '';\r\n        this.loader = true;\r\n        try {\r\n          const updateInfo = await userServices.updateInfo(this.form);\r\n          this.regError = updateInfo;\r\n          this.loader = false;\r\n          // this.regError = ' تم التعديل';\r\n\r\n        }\r\n        catch (error) {\r\n          \r\n          this.loader = false;\r\n          if (error.response.data.data.image == 'The image failed to upload.') {\r\n            this.fileExtnError = ' صيغة الصورة غير مدعومة، اختر صورة أخرى';\r\n          }\r\n\r\n          this.regError = ' حدث خطأ';\r\n        }\r\n      }\r\n    },\r\n  },\r\n  validations() {\r\n    return {\r\n      form: {\r\n        name: {\r\n          required,\r\n        },\r\n        fb_name: {\r\n          required\r\n        },\r\n        file: {\r\n          required: requiredIf(function (nestedModel) {\r\n            return this.form.file.length == 0; // New changes\r\n          }),\r\n        },\r\n      },\r\n    };\r\n  },\r\n};\r\n</script>\r\n  \r\n<style lang=\"scss\" scoped>\r\nh1,\r\nh4,\r\np,\r\ntitle,\r\nform {\r\n  direction: rtl;\r\n}\r\n\r\n.form-check {\r\n  float: left;\r\n}\r\n\r\na.float-end {\r\n  margin-top: 10px;\r\n}\r\n</style>\r\n  ","import { render } from \"./update-info.vue?vue&type=template&id=80a39c28&scoped=true\"\nimport script from \"./update-info.vue?vue&type=script&lang=js\"\nexport * from \"./update-info.vue?vue&type=script&lang=js\"\n\nimport \"./update-info.vue?vue&type=style&index=0&id=80a39c28&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/redwan/personal/coding/project/osboha/certificates/certificates-frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-80a39c28\"]])\n\nexport default __exports__"],"names":["getUnactive","users","api","getUnactiveReviwers","updateInfo","info","formData","FormData","append","name","fb_name","file","headers","error","console","log","response","deActiveUser","id","rejectNote","data","acceptUser","user","getUserStatistics","acceptThesis","class","_createElementVNode","src","_imports_0","alt","for","style","_imports_1","_hoisted_21","_createElementBlock","_createVNode","_component_iq_card","_hoisted_2","_hoisted_5","_hoisted_8","type","$setup","form","$model","$event","placeholder","$error","_hoisted_11","_hoisted_14","ref","onChange","$options","$data","_toDisplayString","_hoisted_22","onClick","value","setup","v$","useVuelidate","loader","regError","fileExtnError","methods","uploadFile","this","$refs","files","re","exec","onSubmit","$touch","$invalid","userServices","image","validations","required","requiredIf","nestedModel","length","__exports__","render"],"sourceRoot":""}