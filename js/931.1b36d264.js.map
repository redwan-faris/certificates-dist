{"version":3,"file":"js/931.1b36d264.js","mappings":"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","sources":["webpack://osboha180/./src/api/userServices.js","webpack://osboha180/./src/views/Admin/acceptNormal.vue","webpack://osboha180/./src/views/Admin/acceptNormal.vue?79a4"],"sourcesContent":["import { api } from \"./Intercepter\"\r\n\r\nexport default {\r\n  getUnactive() {\r\n    const users = api.get(`users/list/un-active`);\r\n    return users;\r\n\r\n  },\r\n\r\n  getUnactiveReviwers() {\r\n    const users = api.get(`users/list/un-active-reviwers-auditors`);\r\n    return users;\r\n\r\n  },\r\n  updateInfo: async (info) => {\r\n    let formData = new FormData();\r\n    formData.append(\"name\", info.name);\r\n    formData.append(\"fb_name\", info.fb_name);\r\n   \r\n    formData.append(\"image\", info.file[0]);\r\n\r\n    const response = await api.post(\"users/update-info\", formData, {\r\n      headers: {\r\n        \"Content-Type\": \"multipart/form-data\",\r\n      },\r\n    }).catch(error => {\r\n\r\n      console.log(error)\r\n    }\r\n    ) \r\n    console.log(response)\r\n    return response;\r\n\r\n  \r\n  },\r\n\r\n\r\n  deActiveUser: async (id, rejectNote) => {\r\n    try {\r\n      const response = await api.post(\"users/deactive-user\", {\r\n        id: id,\r\n        rejectNote: rejectNote,\r\n      });\r\n      return response.data;\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  },\r\n\r\n  acceptUser(id) {\r\n    const user = api.patch(`users/activate/${id}`);\r\n    return user;\r\n\r\n  },\r\n  async getUserStatistics() {\r\n    const user = await api.get(`users/statistics`);\r\n    return user.data.data;\r\n\r\n  },\r\n\r\n  acceptThesis(id) {\r\n    return true;\r\n\r\n  }\r\n}\r\n\r\n","<template>\r\n    <div class=\"row\" v-if=\"users.length > 0\">\r\n        <div class=\"col-sm-12\">\r\n            <div class=\"card position-relative inner-page-bg bg-primary\" style=\"height: 150px;\">\r\n                <div class=\"inner-page-title\">\r\n                    <h3 class=\"text-white\">طلبات المستخدمين</h3>\r\n                    <p class=\"text-white\">عدد الطلبات {{ users.length }}</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"col-lg-12\" v-for=\"user in users\" :key=\"user.id\">\r\n            <iq-card>\r\n                <template v-slot:body>\r\n\r\n                    <div class=\"card card-block card-stretch card-height blog-list\">\r\n                        <div class=\"card-body\">\r\n                            <div class=\"row align-items-center\">\r\n                                <div class=\"col-md-6 text-center\">\r\n                                    <div class=\"image-block\">\r\n                                        <img style=\"cursor:pointer;\" @click=\"openPhoto(user.picture)\" :src=\"resolve_img_url(user.picture)\" class=\"img-fluid rounded w-50\"\r\n                                            alt=\"blog-img\" />\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"col-md-6\">\r\n                                    <div class=\"blog-description p-2 text-center\">\r\n                                        <h3 class=\"mb-2 text-center\">{{ user.name }}</h3>\r\n                                        <button @click=\"acceptrequest(user.id)\" type=\"submit\"\r\n                                            class=\"btn btn-primary d-block w-100\">قبول </button>\r\n\r\n                                        <button @click=\"setReject()\" type=\"submit\" v-if=\"!reject\"\r\n                                            class=\"btn btn-danger d-block w-100 mt-3\">رفض </button>\r\n\r\n                                        <div class=\"col-md-12 mb-3 form-group mt-2\" v-if=\"reject\">\r\n                                            <label for=\"rejectNote\" class=\"form-label\">سبب الرفض *</label>\r\n                                            <textarea name=\"rejectNote\" class=\"form-control\" id=\"rejectNote\" rows=\"5\"\r\n                                                required=\"required\" v-model=rejectNote></textarea>\r\n                                            <small style=\"color: red\" v-if=\"v$.rejectNote.$error\">\r\n                                                {{ 'سبب الرفض مطلوب' }}\r\n                                            </small>\r\n                                            <div class=\"d-inline-block w-100 text-center\">\r\n                                                <div class=\"col-sm-12 text-center\" v-if=\"loader\">\r\n                                                    <img src=\"@/assets/images/page-img/page-load-loader.gif\"\r\n                                                        alt=\"loader\" style=\"height: 100px;\">\r\n                                                </div>\r\n                                            </div>\r\n\r\n                                            <button @click=\"deleterequest(user.id)\" type=\"submit\"\r\n                                                class=\"btn btn-danger d-block w-100 mt-3\">رفض </button>\r\n                                        </div>\r\n\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </template>\r\n            </iq-card>\r\n        </div>\r\n    </div>\r\n    <div class=\"row\" v-else>\r\n        <div class=\"col-sm-12\">\r\n            <iq-card>\r\n                <template v-slot:headerTitle>\r\n                    <h4 class=\"card-title\">طلبات المستخدمين</h4>\r\n                </template>\r\n                <template v-slot:body>\r\n\r\n                    <h4>\r\n                        لا يوجد طلبات\r\n                    </h4>\r\n                </template>\r\n            </iq-card>\r\n        </div>\r\n    </div>\r\n\r\n</template>\r\n<script>\r\nimport { socialvue } from '../../config/pluginInit'\r\nimport userServices from '../../api/userServices'\r\nimport useVuelidate from \"@vuelidate/core\";\r\nimport { required, requiredIf } from \"@vuelidate/validators\";\r\n\r\nexport default {\r\n    name: 'acceptNormal',\r\n    components: {},\r\n    setup() {\r\n        return { v$: useVuelidate() };\r\n    },\r\n\r\n    mounted() {\r\n        socialvue.index()\r\n    },\r\n    created() {\r\n        userServices.getUnactive()\r\n            .then(response => {\r\n                this.users = response.data.data\r\n                console.log(response)\r\n            })\r\n            .catch(error => {\r\n\r\n            })\r\n    },\r\n\r\n    data() {\r\n        return {\r\n            users: [],\r\n            reject: false,\r\n            rejectNote: '',\r\n            loader: false,\r\n\r\n        }\r\n    },\r\n    validations() {\r\n        return {\r\n            rejectNote: {\r\n                required: requiredIf(function (nestedModel) {\r\n                    return this.reject == true;\r\n                }),\r\n            },\r\n        };\r\n    },\r\n    methods: {\r\n        setReject() {\r\n            this.reject = true;\r\n        },\r\n        deleterequest(id) {\r\n            this.v$.$touch();\r\n            if (!this.v$.rejectNote.$invalid) {\r\n                this.loader = true;\r\n                const swalWithBootstrapButtons = this.$swal.mixin({\r\n                    customClass: {\r\n                        confirmButton: 'btn btn-primary btn-lg',\r\n                        cancelButton: 'btn btn-outline-primary btn-lg ms-2'\r\n                    },\r\n                    buttonsStyling: false\r\n                })\r\n\r\n                swalWithBootstrapButtons.fire({\r\n                    title: 'هل أنت متأكد؟',\r\n                    text: \"موافقتك تعني رفض هذا المستخدم\",\r\n                    icon: 'warning',\r\n                    showCancelButton: true,\r\n                    confirmButtonText: 'نعم قم بالرفض',\r\n                    cancelButtonText: 'تراجع  ',\r\n                    showClass: {\r\n                        popup: 'animate__animated animate__zoomIn'\r\n                    },\r\n                    hideClass: {\r\n                        popup: 'animate__animated animate__zoomOut'\r\n                    }\r\n                })\r\n                    .then((willDelete) => {\r\n                        if (willDelete.isConfirmed) {\r\n                            userServices.deActiveUser(id, this.rejectNote)\r\n                                .then(response => {\r\n                                    swalWithBootstrapButtons.fire({\r\n                                        title: 'تم الرفض',\r\n                                        text: 'تم رفض المستخدم',\r\n                                        icon: 'success',\r\n                                        showClass: {\r\n                                            popup: 'animate__animated animate__zoomIn'\r\n                                        },\r\n                                        hideClass: {\r\n                                            popup: 'animate__animated animate__zoomOut'\r\n                                        }\r\n                                    })\r\n                                    location.reload()\r\n                                })\r\n                                .catch(error => {\r\n                                    (error)\r\n                                })\r\n\r\n\r\n                        }\r\n                    })\r\n            }\r\n        },\r\n        acceptrequest(id) {\r\n            const swalWithBootstrapButtons = this.$swal.mixin({\r\n                customClass: {\r\n                    confirmButton: 'btn btn-primary btn-lg',\r\n                    cancelButton: 'btn btn-outline-primary btn-lg ms-2'\r\n                },\r\n                buttonsStyling: false\r\n            })\r\n            swalWithBootstrapButtons.fire({\r\n                title: 'هل أنت متأكد؟',\r\n                text: \"موافقتك تعني قبول هذا المستخدم\",\r\n                icon: 'warning',\r\n                showCancelButton: true,\r\n                confirmButtonText: 'نعم قم بالقبول',\r\n                cancelButtonText: 'تراجع  ',\r\n                showClass: {\r\n                    popup: 'animate__animated animate__zoomIn'\r\n                },\r\n                hideClass: {\r\n                    popup: 'animate__animated animate__zoomOut'\r\n                }\r\n            })\r\n                .then((willDelete) => {\r\n                    if (willDelete.isConfirmed) {\r\n                        userServices.acceptUser(id)\r\n                            .then(response => {\r\n                                swalWithBootstrapButtons.fire({\r\n                                    title: 'تم القبول',\r\n                                    text: 'تم قبول المستخدم',\r\n                                    icon: 'success',\r\n                                    showClass: {\r\n                                        popup: 'animate__animated animate__zoomIn'\r\n                                    },\r\n                                    hideClass: {\r\n                                        popup: 'animate__animated animate__zoomOut'\r\n                                    }\r\n                                })\r\n                                location.reload()\r\n                            })\r\n                            .catch(error => {\r\n                                (error)\r\n                            })\r\n\r\n\r\n                    }\r\n                })\r\n        },\r\n        resolve_img_url: function (image) {\r\n            const url = `https://www.eligible.osboha180.com/api/thesises/image?=${image}`\r\n            return url;\r\n        }, \r\n        openPhoto(image){\r\n              const url = `https://www.eligible.osboha180.com/api/thesises/image?path=${image.path}`\r\n            window.open(url, '_blank')\r\n        }\r\n\r\n    }\r\n}\r\n</script>","import { render } from \"./acceptNormal.vue?vue&type=template&id=1f4e8228\"\nimport script from \"./acceptNormal.vue?vue&type=script&lang=js\"\nexport * from \"./acceptNormal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/redwan/personal/coding/project/osboha/certificates/certificates-frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["getUnactive","users","api","getUnactiveReviwers","updateInfo","info","formData","FormData","append","name","fb_name","file","headers","error","console","log","response","deActiveUser","id","rejectNote","data","acceptUser","user","getUserStatistics","acceptThesis","class","style","_createElementVNode","for","src","_imports_0","alt","_hoisted_22","$data","length","_createElementBlock","_hoisted_5","_toDisplayString","_Fragment","_renderList","key","_createVNode","_component_iq_card","body","onClick","$options","picture","type","_hoisted_16","_hoisted_18","rows","required","$event","$setup","$error","_hoisted_23","_hoisted_24","headerTitle","_hoisted_27","_hoisted_28","components","setup","v$","useVuelidate","mounted","socialvue","created","userServices","then","reject","loader","validations","requiredIf","nestedModel","this","methods","setReject","deleterequest","$touch","$invalid","swalWithBootstrapButtons","$swal","mixin","customClass","confirmButton","cancelButton","buttonsStyling","fire","title","text","icon","showCancelButton","confirmButtonText","cancelButtonText","showClass","popup","hideClass","willDelete","isConfirmed","location","reload","acceptrequest","resolve_img_url","image","url","openPhoto","path","window","open","__exports__","render"],"sourceRoot":""}