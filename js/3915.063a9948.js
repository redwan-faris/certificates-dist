"use strict";(self["webpackChunkosboha180"]=self["webpackChunkosboha180"]||[]).push([[3915],{85117:(e,t,n)=>{var r=n(66330),o=TypeError;e.exports=function(e,t){if(!delete e[t])throw o("Cannot delete property "+r(t)+" of "+r(e))}},5212:(e,t,n)=>{var r=n(82109),o=n(42092).some,s=n(9341),i=s("some");r({target:"Array",proto:!0,forced:!i},{some:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},40561:(e,t,n)=>{var r=n(82109),o=n(47908),s=n(51400),i=n(19303),a=n(26244),u=n(7207),c=n(65417),l=n(86135),d=n(85117),m=n(81194),p=m("splice"),f=Math.max,h=Math.min;r({target:"Array",proto:!0,forced:!p},{splice:function(e,t){var n,r,m,p,g,_,b=o(this),v=a(b),w=s(e,v),q=arguments.length;for(0===q?n=r=0:1===q?(n=0,r=v-w):(n=q-2,r=h(f(i(t),0),v-w)),u(v+n-r),m=c(b,r),p=0;p<r;p++)g=w+p,g in b&&l(m,p,b[g]);if(m.length=r,n<r){for(p=w;p<v-r;p++)g=p+r,_=p+n,g in b?b[_]=b[g]:d(b,_);for(p=v;p>v-r+n;p--)d(b,p-1)}else if(n>r)for(p=v-r;p>w;p--)g=p+r-1,_=p+n-1,g in b?b[_]=b[g]:d(b,_);for(p=0;p<n;p++)b[p+w]=arguments[p+2];return b.length=v-r+n,m}})},21175:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(50124),o=n(48534),s=n(62760),i=n(57333);const a={addQuestion:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s.h.post("questions",t);case 2:return n=e.sent,e.abrupt("return",n.data.data);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),getQuestions:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s.h.get("questions/user-book/".concat(t));case 2:return n=e.sent,e.abrupt("return",n.data.data);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),addDegree:function(e,t,n){var r=s.h.patch("/questions/add-degree/".concat(e),{auditor_id:i.Z.getUser().id,reviews:t,degree:n});return console.log(r),r},deleteQuestion:function(e){var t=s.h["delete"]("/questions/".concat(e));return t},getByStatus:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s.h.get("questions/status/".concat(t));case 2:return n=e.sent,n.data,e.abrupt("return",n.data.data);case 5:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),getByUserBook:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s.h.get("questions/user_book_id/".concat(t));case 2:return n=e.sent,n.data,e.abrupt("return",n.data.data);case 5:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),acceptQuestion:function(e,t){var n,r=null;"accept"==t?n=e:"audit"==t&&(r=e);var o=s.h.post("/questions/review",{id:n,user_book_id:r,status:t,reviewer_id:i.Z.getUser().id});return o},rejectRetardThesis:function(e,t,n){var r=s.h.post("/questions/review",{id:e,status:n,reviewer_id:i.Z.getUser().id,reviews:t});return r},updateQuestion:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t,n){var o;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s.h.patch("/questions/".concat(n),t,{})["catch"]((function(e){console.log(e)}));case 2:return o=e.sent,e.abrupt("return",o.data.data);case 4:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),reviewQuestion:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s.h.patch("/questions/review-question/".concat(t))["catch"]((function(e){})).then((function(e){return e}));case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),getById:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s.h.get("questions/".concat(t));case 2:return n=e.sent,n.data,e.abrupt("return",n.data.data);case 5:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),getByBook:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s.h.get("questions/book/".concat(t));case 2:return n=e.sent,n.data,e.abrupt("return",n.data.data);case 5:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}},53915:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Ne});var r=n(66252),o=n(3577),s=n(49963),i=n(44272),a=n(90475),u={class:"row"},c={class:"col-sm-12"},l={class:"iq-card-body profile-page p-0"},d={class:"profile-header"},m=(0,r._)("div",{class:"cover-container"},[(0,r._)("img",{src:i,alt:"profile-bg",class:"rounded img-fluid"})],-1),p={class:"user-detail text-center mb-3"},f=(0,r._)("div",{class:"profile-img"},[(0,r._)("img",{src:a,alt:"profile-img",class:"avatar-130 img-fluid"})],-1),h={class:"profile-detail mt-1"},g=(0,r._)("br",null,null,-1),_={key:0,class:""},b={class:"iq-card-body p-0"},v={class:"user-tabing"},w={class:"col-sm-12"},q={class:"tab-content"},k={class:"iq-card-body p-0"},y={class:"row"},x={class:"col-12"},Z={id:"post-modal-data",class:"iq-card"},F=(0,r._)("h4",{class:"card-title"},"إضافة الأسئلة والاقتباسات",-1),C={class:"d-flex align-items-center"},$={class:"d-flex align-items-center mt-3 w-100"},Q={class:"form-group col-6"},D=(0,r._)("option",{value:""},"اختر صفحة البداية",-1),z=["value"],B={key:0,style:{color:"red"}},j={class:"form-group col-6"},E=(0,r._)("option",{value:""},"اختر صفحة النهاية",-1),S=["value"],U={key:0,style:{color:"red"}},T={class:"form-group"},I={key:0,style:{color:"red"}},L=(0,r._)("div",null,null,-1),M={class:"form-group"},O=(0,r._)("h4",{class:"card-title"},"الاقتباسات",-1),W=(0,r._)("small",{style:{color:"red"}}," *فضلًا يتوجب عليك إرفاق عدد (3) من الاقتباسات كحد أقصى. ",-1),H=["onUpdate:modelValue"],K=["onClick"],Y={key:0,style:{color:"red"}},V=(0,r._)("hr",null,null,-1),A=["disabled"],P=(0,r._)("input",{type:"submit",value:"أضافة",href:"javascript:void(0);",class:"btn btn-primary d-block mt-3"},null,-1),N=(0,r._)("hr",null,null,-1),R=(0,r._)("div",null,[(0,r._)("h5",{class:"card-title"},"تمت الاضافة بنجاح")],-1),G=(0,r._)("h4",{class:"card-title"},"الأسئلة",-1),J={id:"form-wizard1",class:"text-center mt-3"},X={id:"top-tab-list",class:"p-0 row list-inline"},ee=["onClick"],te={href:"javascript:void(0);"},ne={class:"col-lg-12"};function re(e,t,n,i,a,re){var oe=(0,r.up)("iq-card"),se=(0,r.up)("tab-nav-items"),ie=(0,r.up)("tab-nav"),ae=(0,r.up)("alert"),ue=(0,r.up)("ListQuestion"),ce=(0,r.up)("tab-content-item");return(0,r.wg)(),(0,r.iD)("div",u,[(0,r._)("div",c,[(0,r.Wm)(oe,null,{default:(0,r.w5)((function(){return[(0,r._)("div",l,[(0,r._)("div",d,[m,(0,r._)("div",p,[f,(0,r._)("div",h,[g,a.book?((0,r.wg)(),(0,r.iD)("h3",_,(0,o.zw)(a.book.book_name)+" - قسم الأسئلة العامة ",1)):(0,r.kq)("",!0)])])])])]})),_:1}),(0,r.Wm)(oe,{class:"iq-card"},{default:(0,r.w5)((function(){return[(0,r._)("div",b,[(0,r._)("div",v,[(0,r.Wm)(ie,{pills:!0,id:"pills-tab",class:"nav nav-pills d-flex align-items-center justify-content-center profile-feed-items p-0 m-0"},{default:(0,r.w5)((function(){return[(0,r.Wm)(se,{class:"w-100 p-0",active:!0,id:"pills-feed-tab",href:"#questions_container",ariaControls:"pills-home",role:"tab",ariaSelected:!0,title:"المرحلة الثالثة - الاسئلة المعرفية"})]})),_:1})])])]})),_:1})]),(0,r._)("div",w,[(0,r._)("div",q,[(0,r.Wm)(ce,{active:!0,id:"questions_container","aria-labelled-by":"pills-feed-tab"},{default:(0,r.w5)((function(){return[(0,r._)("div",k,[(0,r._)("div",y,[(0,r._)("div",x,[(0,r._)("div",Z,[(0,r._)("div",null,[a.questions.length<12&&a.auditable||0==a.questions.length||a.questions.length<5?((0,r.wg)(),(0,r.j4)(oe,{key:0,id:"post-modal-data","body-class":"iq-card iq-card-block iq-card-stretch iq-card-height"},{headerTitle:(0,r.w5)((function(){return[F]})),body:(0,r.w5)((function(){return[(0,r._)("div",C,[(0,r._)("div",$,[a.book?((0,r.wg)(),(0,r.iD)("form",{key:0,onSubmit:t[5]||(t[5]=(0,s.iM)((function(){return re.submitQuestionForm&&re.submitQuestionForm.apply(re,arguments)}),["prevent"])),class:"post-text ml-3 w-100 row"},[(0,r._)("div",Q,[(0,r.wy)((0,r._)("select",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return i.v$.questionForm.starting_page.$model=e}),class:"form-select","data-trigger":"",name:"choices-single-default",id:"choices-single-default"},[D,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.book.pages,(function(e,t){return(0,r.wg)(),(0,r.iD)("option",{key:t,value:e},(0,o.zw)(e),9,z)})),128))],512),[[s.bM,i.v$.questionForm.starting_page.$model]]),i.v$.questionForm.starting_page.$error?((0,r.wg)(),(0,r.iD)("small",B,(0,o.zw)(a.pageError?a.pageError:"الرجاء قم بادخال صفحة البداية"),1)):(0,r.kq)("",!0)]),(0,r._)("div",j,[(0,r.wy)((0,r._)("select",{class:"form-select","onUpdate:modelValue":t[1]||(t[1]=function(e){return i.v$.questionForm.ending_page.$model=e}),"data-trigger":"",name:"choices-single-default",id:"choices-single-default"},[E,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.book.pages,(function(e,t){return(0,r.wg)(),(0,r.iD)("option",{key:t,value:e},(0,o.zw)(e),9,S)})),128))],512),[[s.bM,i.v$.questionForm.ending_page.$model]]),i.v$.questionForm.ending_page.$error?((0,r.wg)(),(0,r.iD)("small",U,(0,o.zw)(a.pageError?a.pageError:" الرجاء قم بادخال صفحة\n                                                                  النهاية"),1)):(0,r.kq)("",!0)]),(0,r._)("div",T,[(0,r.wy)((0,r._)("textarea",{rows:"5",placeholder:"... اكتب سؤالًا تجيب عنه الصفحات التي حددتها أعلاه، سنبحث عن إجابة السؤال ضمن هذه الصفحات فقط لتوثيق قراءتك",class:"rounded form-control",id:"bookQuestion",onChange:t[2]||(t[2]=function(e){return re.resetInsertSuccessfully()}),"onUpdate:modelValue":t[3]||(t[3]=function(e){return i.v$.questionForm.question.$model=e})},null,544),[[s.nr,i.v$.questionForm.question.$model]]),i.v$.questionForm.question.$error?((0,r.wg)(),(0,r.iD)("small",I," لطفًا قم بكتابة سؤال عدد حروفه بين 100 و 250 خالي من الرموز التعبيرية (emojis) ")):(0,r.kq)("",!0)]),L,(0,r._)("div",M,[O,W,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.questionForm.quotes,(function(e,t){return(0,r.wg)(),(0,r.iD)("div",{class:"form-group row",key:t},[(0,r.wy)((0,r._)("textarea",{rows:"5",placeholder:"... انقل هنا اقتباسًا تجده في الصفحات التي حددتها أعلاه، سنبحث عن دقة نقلك لهذا الاقتباس ضمن هذه الصفحات فقط لتوثيق قراءتك ",class:"rounded form-control mt-2",id:"bookQuote","onUpdate:modelValue":function(t){return e.text=t},style:{width:"90%"}},"\r\n                                  ",8,H),[[s.nr,e.text]]),(0,r._)("i",{class:"material-symbols-outlined col-1",onClick:function(e){return re.removeField(t,a.questionForm.quotes)}},"cancel",8,K)])})),128)),i.v$.questionForm.quotes.$error?((0,r.wg)(),(0,r.iD)("small",Y," قم بادخال اقتباس واحد على الاقل عدد حروفه لا يزيد عن 250 خالي من الرموز التعبيرية (emojis) ")):(0,r.kq)("",!0),V,(0,r._)("button",{class:"btn btn-primary rounded-pill mb-3 me-1",onClick:t[4]||(t[4]=function(t){return re.addField(e.textarea,a.questionForm.quotes)}),disabled:a.questionForm.quotes.length>=3}," اضافة اقتباس ",8,A)]),P],32)):(0,r.kq)("",!0)])]),N]})),_:1})):(0,r.kq)("",!0)])]),a.insertSuccessful?((0,r.wg)(),(0,r.j4)(ae,{key:0,variant:"primary",className:"d-flex align-items-center text-center"},{default:(0,r.w5)((function(){return[R]})),_:1})):(0,r.kq)("",!0),a.questions.length>0?((0,r.wg)(),(0,r.j4)(oe,{key:1},{headerTitle:(0,r.w5)((function(){return[G]})),body:(0,r.w5)((function(){return[(0,r._)("form",J,[(0,r._)("ul",X,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.questions,(function(e,t){return(0,r.wg)(),(0,r.iD)("li",{key:t,class:(0,o.C_)([re.checkActive(t,t+1),"col-2 mb-2 text-start"]),onClick:function(e){return re.changeTab(t+1)},id:"account"},[(0,r._)("a",te,[(0,r._)("span",null,(0,o.zw)(t+1),1)])],10,ee)})),128))]),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.questions,(function(e,t){return(0,r.wg)(),(0,r.iD)("fieldset",{key:t,class:(0,o.C_)(a.current==t+1?"d-block":"d-none")},[(0,r.Wm)(ue,{question:e,index:t,book:a.book,user_book:a.user_book},null,8,["question","index","book","user_book"])],2)})),128))])]})),_:1})):(0,r.kq)("",!0),(0,r._)("div",ne,[(0,r.Wm)(oe,null,{body:(0,r.w5)((function(){return[a.questions.length>=5&&a.auditable?((0,r.wg)(),(0,r.iD)("button",{key:0,class:"btn btn-primary d-block w-100 mb-3",onClick:t[6]||(t[6]=function(){return re.reviewQuestions&&re.reviewQuestions.apply(re,arguments)})}," اعتماد ")):(0,r.kq)("",!0),(0,r._)("button",{class:"btn btn-success d-block w-100",onClick:t[7]||(t[7]=function(e){return re.back()})}," عودة لصفحة الانجاز ")]})),_:1})])])])])]})),_:1})])])])}var oe=n(50124),se=n(48534),ie=(n(5212),n(41539),n(74916),n(15306),n(91058),n(40561),n(54028)),ae=n(62587),ue={class:"col-sm-12"},ce={class:"card card-block card-stretch card-height"},le={class:"card-body"},de={class:"user-post-data"},me={class:"d-flex justify-content-between"},pe={class:"w-100"},fe={class:"d-flex justify-content-between"},he={class:"w-100 text-start"},ge={class:"mb-0 d-inline-block"},_e={key:0,class:"mb-0 text-primary"},be={key:1,class:"alert alert-success w-100 mt-2"},ve={key:0,class:"card-post-toolbar"},we=(0,r._)("span",{class:"material-symbols-outlined"}," more_horiz ",-1),qe=[we],ke=(0,r._)("span",{class:"material-symbols-outlined me-2 md-18"}," edit ",-1),ye=(0,r.Uk)(" تعديل "),xe=[ke,ye],Ze=(0,r._)("span",{class:"material-symbols-outlined me-2 md-18"}," delete ",-1),Fe=(0,r.Uk)(" حذف "),Ce=[Ze,Fe],$e=(0,r._)("hr",null,null,-1),Qe={class:"row"},De={class:"col-6 form-group"},ze=(0,r._)("label",{for:"uname",class:"form-label"},"صفحة البداية",-1),Be={class:"form-control-plaintext"},je={class:"col-6 form-group"},Ee=(0,r._)("label",{for:"emailid",class:"form-label"},"صفحة النهاية",-1),Se={class:"form-control-plaintext"},Ue={class:"mt-3"},Te={class:"col-md-12 form-group"},Ie={class:"col-md-12 form-group text-start"},Le=(0,r._)("label",{for:"emailid",class:"form-label"}," الاقتباسات",-1);function Me(e,t,n,s,i,a){return(0,r.wg)(),(0,r.iD)("div",ue,[(0,r._)("div",ce,[(0,r._)("div",le,[(0,r._)("div",de,[(0,r._)("div",me,[(0,r._)("div",pe,[(0,r._)("div",fe,[(0,r._)("div",he,[(0,r._)("h5",ge," السؤال "+(0,o.zw)(n.index+1),1),n.question.degree?((0,r.wg)(),(0,r.iD)("p",_e,"التقييم || "+(0,o.zw)(n.question.degree),1)):(0,r.kq)("",!0),n.question.reviews?((0,r.wg)(),(0,r.iD)("div",be,(0,o.zw)(n.question.reviews),1)):(0,r.kq)("",!0)]),null==n.question.status||"retard"==n.question.status?((0,r.wg)(),(0,r.iD)("div",ve,[(0,r._)("div",{class:"dropdown-toggle",id:"dropdownMenuButton","data-bs-toggle":"dropdown","aria-expanded":"false",role:"button",onClick:t[0]||(t[0]=function(e){return i.show=!i.show})},qe),(0,r._)("div",{class:(0,o.C_)("dropdown-menu dropdown-menu-right ".concat(i.show?"show":"")),"aria-labelledby":"dropdownMenuButton",style:{}},[(0,r._)("a",{class:"dropdown-item d-flex align-items-center",onClick:t[1]||(t[1]=function(e){return a.UpdateQuestion(n.question.id)})},xe),(0,r._)("a",{class:"dropdown-item d-flex align-items-center",onClick:t[2]||(t[2]=function(e){return a.deleteQuestion(n.question.id)})},Ce)],2)])):(0,r.kq)("",!0)])])])]),$e,(0,r._)("div",Qe,[(0,r._)("div",De,[ze,(0,r._)("label",Be,(0,o.zw)(n.question.starting_page),1)]),(0,r._)("div",je,[Ee,(0,r._)("label",Se,(0,o.zw)(n.question.ending_page),1)])]),(0,r._)("div",Ue,[(0,r._)("p",null,(0,o.zw)(n.question.question),1)]),(0,r._)("div",Te,[(0,r._)("div",Ie,[Le,(0,r._)("ul",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(n.question.quotation,(function(e){return(0,r.wg)(),(0,r.iD)("li",{key:e.id,class:"mt-3"},[(0,r._)("p",null,(0,o.zw)(e.text),1)])})),128))])])])])])])}var Oe=n(11686),We=n(21175);const He={name:"ListQuestion",mounted:function(){Oe.CF.index()},components:{},props:{question:{type:[Object],required:!0},index:{required:!0},book:{type:[Object],required:!0},user_book:{type:[Object],required:!0}},data:function(){return{show:!1}},methods:{deleteQuestion:function(e){this.show=!this.show;var t=this.$swal.mixin({customClass:{confirmButton:"btn btn-primary btn-lg",cancelButton:"btn btn-outline-primary btn-lg ms-2"},buttonsStyling:!1});t.fire({title:"هل أنت متأكد؟",text:"موافقتك تعني حذف هذه السؤال ",icon:"warning",showCancelButton:!0,confirmButtonText:"نعم قم بالحذف",cancelButtonText:"تراجع  ",showClass:{popup:"animate__animated animate__zoomIn"},hideClass:{popup:"animate__animated animate__zoomOut"}}).then((function(n){n.isConfirmed&&We.Z.deleteQuestion(e).then((function(e){t.fire({title:"تم الحذف",text:"تم حذف السؤال",icon:"success",showClass:{popup:"animate__animated animate__zoomIn"},hideClass:{popup:"animate__animated animate__zoomOut"}}),location.reload()}))["catch"]((function(e){console.log(e)}))}))},UpdateQuestion:function(e){this.show=!this.show,this.$router.push({path:"/questions/update/".concat(e)})}}};var Ke=n(83744);const Ye=(0,Ke.Z)(He,[["render",Me]]),Ve=Ye,Ae={name:"Questions",created:function(){var e=this;return(0,se.Z)((0,oe.Z)().mark((function t(){return(0,oe.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getQuestions();case 2:case"end":return t.stop()}}),t)})))()},setup:function(){return{v$:(0,ie.ZP)()}},components:{ListQuestion:Ve},data:function(){return{auditable:!1,book:null,user_book:null,status:"",pageError:"",quotesError:"",questionError:"",questionForm:{question:"",starting_page:"",ending_page:"",user_book_id:null,quotes:[{text:""}]},questions:[],show:"",current:1,insertSuccessful:!1}},validations:function(){return{questionForm:{question:{required:ae.C1,minLength:(0,ae.Ei)(20),maxLength:(0,ae.BS)(250)},starting_page:{required:ae.C1},ending_page:{required:ae.C1,valdiatePages:this.validatePages},quotes:{required:ae.C1,minLength:(0,ae.Ei)(1),$each:{text:{minLength:(0,ae.Ei)(250)}}}}}},methods:{getQuestions:function(){var e=this;return(0,se.Z)((0,oe.Z)().mark((function t(){var n;return(0,oe.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,We.Z.getByBook(e.$route.params.id);case 2:n=t.sent,e.book=n.user_book.book,e.questions=n.questions,e.user_book=n.user_book,e.questionForm.user_book_id=n.user_book.id,e.status=e.user_book.status,e.auditable=e.questions.some((function(e){return"retard"===e.status||null===e.status}));case 9:case"end":return t.stop()}}),t)})))()},resetInsertSuccessfully:function(){this.insertSuccessful=!1},removeEmojis:function(e){var t=/(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\u0023-\u0039]\ufe0f?\u20e3|\u3299|\u3297|\u303d|\u3030|\u24c2|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|\ud83c\udd8e|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|\ud83c[\ude01-\ude02]|\ud83c\ude1a|\ud83c\ude2f|\ud83c[\ude32-\ude3a]|\ud83c[\ude50-\ude51]|\u203c|\u2049|[\u25aa-\u25ab]|\u25b6|\u25c0|[\u25fb-\u25fe]|\u00a9|\u00ae|\u2122|\u2139|\ud83c\udc04|[\u2600-\u26FF]|\u2b05|\u2b06|\u2b07|\u2b1b|\u2b1c|\u2b50|\u2b55|\u231a|\u231b|\u2328|\u23cf|[\u23e9-\u23f3]|[\u23f8-\u23fa]|\ud83c\udccf|\u2934|\u2935|[\u2190-\u21ff])/g;return e.replace(t,"")},submitQuestionForm:function(){var e=this;return(0,se.Z)((0,oe.Z)().mark((function t(){var n,r;return(0,oe.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(e.questionForm.question=e.removeEmojis(e.questionForm.question),n=0;n<e.questionForm.quotes.length;n++)e.questionForm.quotes[n].text=e.removeEmojis(e.questionForm.quotes[n].text);if(e.v$.$touch(),e.v$.questionForm.$invalid){t.next=16;break}return e.insertSuccessful=!1,t.next=7,We.Z.addQuestion(e.questionForm);case 7:r=t.sent,e.questionForm.question="",e.questionForm.starting_page="",e.questionForm.ending_page="",e.questionForm.quotes=[{text:""}],e.v$.questionForm.$reset(),e.questions.push(r),e.auditable=!0,e.insertSuccessful=!0;case 16:case"end":return t.stop()}}),t)})))()},validatePages:function(){var e=parseInt(this.questionForm.starting_page)<parseInt(this.questionForm.ending_page);return this.pageError=e?"":"يجب ان تكون صفحة البداية اقل من صفحة النهاية",e},reviewQuestions:function(){var e=this;return(0,se.Z)((0,oe.Z)().mark((function t(){var n;return(0,oe.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.$swal.mixin({customClass:{confirmButton:"btn btn-primary btn-lg",cancelButton:"btn btn-outline-primary btn-lg ms-2"},buttonsStyling:!1}),n.fire({title:"هل أنت متأكد؟",text:"في حال الاعتماد لن يمكنك اضافة سؤال جديد أو التعديل على الأسئلة التي كتبتها ",icon:"warning",showCancelButton:!0,confirmButtonText:"نعم قم بالاعتماد ",cancelButtonText:"تراجع  ",showClass:{popup:"animate__animated animate__zoomIn"},hideClass:{popup:"animate__animated animate__zoomOut"}}).then((function(t){t.isConfirmed&&We.Z.reviewQuestion(e.user_book.id).then((function(t){n.fire({title:"تم الارسال",text:"تم اعتماد الأسئلة",icon:"success",showClass:{popup:"animate__animated animate__zoomIn"},hideClass:{popup:"animate__animated animate__zoomOut"}}),e.auditable=!1,e.insertSuccessful=!1}))["catch"]((function(e){console.log(e)}))}));case 2:case"end":return t.stop()}}),t)})))()},addField:function(e,t){t.push({text:""})},removeField:function(e,t){t.splice(e,1)},back:function(){this.$router.push({name:"achievement.steps",params:{id:this.$route.params.id}})},changeTab:function(e){this.current=e,window.scrollTo({behavior:"smooth"})},checkActive:function(e,t){var n="";return this.current>e&&(n="active"),this.current>t&&(n+=" done"),n}}},Pe=(0,Ke.Z)(Ae,[["render",re]]),Ne=Pe},44272:(e,t,n)=>{e.exports=n.p+"img/book-banner.6a2a5a9c.png"},90475:(e,t,n)=>{e.exports=n.p+"img/reader.b5157672.png"}}]);
//# sourceMappingURL=3915.063a9948.js.map